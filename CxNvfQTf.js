var e,t,o,r,n,i,s,a,l,c,u,d,h,m,g,p,f,w,y,b,_,C,v,$,k,S,E,P,A,T,x,D,O,j,L,I,V,R,M,B,H,z,N,U,F,q,W,K,Y=e=>{throw TypeError(e)},G=(e,t,o)=>t.has(e)||Y("Cannot "+o),J=(e,t,o)=>(G(e,t,"read from private field"),o?o.call(e):t.get(e)),Q=(e,t,o)=>t.has(e)?Y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,o),Z=(e,t,o,r)=>(G(e,t,"write to private field"),r?r.call(e,o):t.set(e,o),o),X=(e,t,o)=>(G(e,t,"access private method"),o);import{S as ee,i as te,s as oe,H as re,c as ne,o as ie,p as se,q as ae,m as le,d as ce,n as ue,X as de,v as he,w as me,x as ge,y as pe,h as fe,az as we,ak as ye,a4 as be,aC as _e,R as Ce,T as ve,V as $e,e as ke,a as Se,t as Ee,j as Pe,l as Ae,a1 as Te,A as xe,k as De,a3 as Oe,r as je,B as Le,K as Ie,ax as Ve,ay as Re,a6 as Me,g as Be,Z as He,J as ze,f as Ne,ad as Ue,W as Fe,P as qe,b as We,al as Ke,U as Ye,ao as Ge,at as Je,a5 as Qe,an as Ze,ab as Xe,ac as et,L as tt,M as ot,G as rt,Y as nt,N as it,av as st}from"./CMBlwypj.js";const at=function(){const e="undefined"!=typeof document&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),lt={},ct=function(e,t,o){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/terminal/"+e}(e))in lt)return;lt[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":at,t||(n.as="script"),n.crossOrigin="",n.href=e,o&&n.setAttribute("nonce",o),document.head.appendChild(n),t?new Promise(((t,o)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>o(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))},ut=e=>({}),dt=e=>({});function ht(e){let t;const o=e[7].default,r=he(o,e,e[6],null);return{c(){r&&r.c()},m(e,o){r&&r.m(e,o),t=!0},p(e,n){r&&r.p&&(!t||64&n)&&me(r,o,e,e[6],t?pe(o,e[6],n,null):ge(e[6]),null)},i(e){t||(le(r,e),t=!0)},o(e){se(r,e),t=!1},d(e){r&&r.d(e)}}}function mt(e){let t;const o=e[7].risk,r=he(o,e,e[6],dt);return{c(){r&&r.c()},m(e,o){r&&r.m(e,o),t=!0},p(e,n){r&&r.p&&(!t||64&n)&&me(r,o,e,e[6],t?pe(o,e[6],n,ut):ge(e[6]),dt)},i(e){t||(le(r,e),t=!0)},o(e){se(r,e),t=!1},d(e){r&&r.d(e)}}}function gt(e){let t,o,r,n;const i=[mt,ht],s=[];function a(e,t){return e[2]?0:1}return t=a(e),o=s[t]=i[t](e),{c(){o.c(),r=re()},m(e,o){s[t].m(e,o),ne(e,r,o),n=!0},p(e,[n]){let l=t;t=a(e),t===l?s[t].p(e,n):(ie(),se(s[l],1,1,(()=>{s[l]=null})),ae(),o=s[t],o?o.p(e,n):(o=s[t]=i[t](e),o.c()),le(o,1),o.m(r.parentNode,r))},i(e){n||(le(o),n=!0)},o(e){se(o),n=!1},d(e){e&&ce(r),s[t].d(e)}}}function pt(e,t,o){let r,n,i=ue,s=()=>(i(),i=de(h,(e=>o(4,r=e))),h),a=ue,l=()=>(a(),a=de(d,(e=>o(5,n=e))),d);e.$$.on_destroy.push((()=>i())),e.$$.on_destroy.push((()=>a()));let{$$slots:c={},$$scope:u}=t,{usersStore:d}=t;l();let{accountStore:h}=t;s();let m=null,g=!1;return e.$$set=e=>{"usersStore"in e&&l(o(0,d=e.usersStore)),"accountStore"in e&&s(o(1,h=e.accountStore)),"$$scope"in e&&o(6,u=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&o(3,m=n.getCurrentUser()),24&e.$$.dirty&&m&&o(2,g=1===r.riskWarning&&null===sessionStorage.getItem(m.id))},[d,h,g,m,r,n,u,c]}class ft extends ee{constructor(e){super(),te(this,e,pt,gt,oe,{usersStore:0,accountStore:1})}}function wt(e){switch(e){case 1:return window.tr(window.lang.chart.period.short.M1);case 5:return window.tr(window.lang.chart.period.short.M5);case 15:return window.tr(window.lang.chart.period.short.M15);case 30:return window.tr(window.lang.chart.period.short.M30);case 60:return window.tr(window.lang.chart.period.short.H1);case 240:return window.tr(window.lang.chart.period.short.H4);case 1440:return window.tr(window.lang.chart.period.short.D1);case 10080:return window.tr(window.lang.chart.period.short.W1);case 43200:return window.tr(window.lang.chart.period.short.MN);default:return window.tr(window.lang.chart.period.short.Unknown)}}const yt=e=>({symbol:1&e}),bt=e=>({symbol:e[0]});function _t(e){let t,o,r;document.title=t=e[4];const n=e[15].default,i=he(n,e,e[14],bt);return{c(){o=fe(),i&&i.c()},m(e,t){ne(e,o,t),i&&i.m(e,t),r=!0},p(e,[o]){(!r||16&o)&&t!==(t=e[4])&&(document.title=t),i&&i.p&&(!r||16385&o)&&me(i,n,e,e[14],r?pe(n,e[14],o,yt):ge(e[14]),bt)},i(e){r||(le(i,e),r=!0)},o(e){se(i,e),r=!1},d(e){e&&ce(o),i&&i.d(e)}}}const Ct=" - ";function vt(e,t,o){let r,n,i,s,a=ue,l=()=>(a(),a=de(y,(e=>o(10,r=e))),y),c=ue,u=()=>(c(),c=de(_,(e=>o(11,n=e))),_),d=ue,h=()=>(d(),d=de(b,(e=>o(12,i=e))),b);e.$$.on_destroy.push((()=>a())),e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));let{$$slots:m={},$$scope:g}=t,{ui:p}=t,{modules:f}=t;const{usersStore:w}=p.users;we(e,w,(e=>o(13,s=e)));let{accountStore:y}=f.account;l();let{symbolsStore:b}=f.symbols;h();let{configStore:_}=f.configs;u();let C,v="",$="",k=null;return e.$$set=e=>{"ui"in e&&o(6,p=e.ui),"modules"in e&&o(7,f=e.modules),"$$scope"in e&&o(14,g=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&l(o(1,y=f.account.accountStore)),128&e.$$.dirty&&h(o(2,b=f.symbols.symbolsStore)),128&e.$$.dirty&&u(o(3,_=f.configs.configStore)),8192&e.$$.dirty&&o(9,k=s.getCurrentUser()),6144&e.$$.dirty&&n.symbol&&o(0,C=i.getBySymbol(n.symbol)),2048&e.$$.dirty&&n.period&&o(8,$=wt(n.period)),1809&e.$$.dirty&&(o(4,v=""),o(4,v+=r.login),k&&(o(4,v+=Ct+k.server),(r.isDemo||r.isContest)&&o(4,v+=": Demo account")),o(4,v+=`${Ct}${r.isHedgedMargin?"Hedge":"Netting"}`),r.company&&o(4,v+=Ct+r.company),(null==C?void 0:C.symbol)&&$?o(4,v+=`${Ct}[${C.symbol}, ${$}]`):(null==C?void 0:C.symbol)&&!$?o(4,v+=`${Ct}[${C.symbol}]`):!(null==C?void 0:C.symbol)&&$&&o(4,v+=`${Ct}[${$}]`))},[C,y,b,_,v,w,p,f,$,k,r,n,i,s,g,m]}class $t extends ee{constructor(e){super(),te(this,e,vt,_t,oe,{ui:6,modules:7})}}function kt(e){const t=(65280&e)>>8,o=255&e;return`#${((16711680&e)>>16).toString(16).padStart(2,"0")}${t.toString(16).padStart(2,"0")}${o.toString(16).padStart(2,"0")}`}function St(e){return[(16711680&e)>>16,(65280&e)>>8,255&e].join(",")}function Et(){}const Pt=[];class At{constructor(e=Et){this.subscribers=[],this._systemName="",this.stop=null,this.value=this,this.start=e}set(e){if(t=this.value,o=e,Boolean(t!=t?o==o:t!==o||t&&"object"==typeof t||"function"==typeof t)&&(this.value=e,this.stop)){const e=!Pt.length;for(let t=0;t<this.subscribers.length;t+=1){const e=this.subscribers[t];e[1](),Pt.push(e,this.value)}if(e){for(let e=0;e<Pt.length;e+=2)Pt[e][0](Pt[e+1]);Pt.length=0}}var t,o}update(e){this.set(e(this.value))}subscribe(e,t=Et){const o=[e,t];return this.subscribers.push(o),1===this.subscribers.length&&(this.stop=this.start(this.set)||Et),e(this.value),()=>{const e=this.subscribers.indexOf(o);-1!==e&&this.subscribers.splice(e,1),0===this.subscribers.length&&this.stop&&(this.stop(),this.stop=null)}}refresh(){this.update((e=>e))}}function Tt(e,t,o){const r=o.value;o.value=function(...e){const t=r.apply(this,e);return t instanceof Promise?t.then((()=>this.set(this))):this.set(this),t}}Symbol.toStringTag;const xt={background:16777215,border:15263976,bottomPanel:16250871,card:16777215,icon:{default:5590089,disabled:13750737},fill:{blue:3245055,blueHover:4953087,blueActive:3045867,green:3584843,greenHover:4308566,greenActive:3054913,red:15354956,redHover:16013657,redActive:16075595,lightBlue:15858175,lightBlueHover:15070463,lightBlueActive:14281204,lightRed:16642545,lightRedHover:16443624,lightRedActive:16376803,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:16644849,total:15791609},text:{default:0,secondary:8421504,inverted:16777215,red:14155776,blue:750067,green:2200372,orange:12408606,disabled:10989752},input:{fill:{disabled:16053750},border:{default:14540253,hover:8899326,invalid:12067876}},button:{disabled:13750737},scroll:10461087,chart:{backgroundColor:16777215,gridColor:16250360,titleColor:0,descriptionColor:8421504,graph:{upColor:2533018,downColor:15684432,lineColor:45039,areaColor:45039},priceLines:{bidUp:2533018,bidDown:15684432,bidText:16777215,ask:13750738,askText:0},axis:{borderColor:10461087,textColor:0},crosshair:{lineColor:10461087,textColor:16777215,textBackgroundColor:10461087},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:8421504},object:{point:{hover:{backgroundColor:16777215,borderColor:3245055},focus:{backgroundColor:16777215,borderColor:4953087},active:{backgroundColor:16777215,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:110447,downColor:16723968,lineColor:45039}},calendar:{button:{backgroundColor:16777215,textColor:0},group:{borderColor:15263976,backgroundColor:16777215,title:{textColor:8421504,backgroundColor:16777215,linkColor:750067},event:{titleColor:0,timeColor:8421504,descriptionColor:8421504}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:8421504,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:0};var Dt=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,jt=(e,t,o,r)=>{for(var n,i=Ot(t,o),s=e.length-1;s>=0;s--)(n=e[s])&&(i=n(t,o,i)||i);return i&&Dt(t,o,i),i};const Lt={greenRed:"greenRed",blueRed:"blueRed",blackWhite:"blackWhite",neutral:"neutral"},It={zIndex:{base:1,mainScreen:10,screenHeader:30,bottomMenu:40,popupScreen:100,contextMenu:150},indent:8,font:{family:"Trebuchet MS,Roboto,Ubuntu,sans-serif",big:16,size:14,small:13,tiny:12},button:{radius:3,font:{size:15}},menu:{shadow:"0px 3px 8px 2px rgba(0, 0, 0, 0.1)"},popup:{shadow:"0px 16px 46px 8px rgba(0, 0, 0, 0.12)"}},Vt=((e=class extends At{constructor(t,o,r){super(),this._systemName="ThemeStore",this.THEMES=e.THEMES,this.sizes=It,this.theme=t,this.mode=o,this.colors=r}setMode(e){this.mode=e}setTheme(e){this.theme=e}updateColors(e){this.colors=Object.assign(this.colors,e)}updateSizes(e){this.sizes=Object.assign(this.sizes,e)}}).THEMES={[Lt.greenRed]:{id:Lt.greenRed,light:async()=>xt,dark:async()=>(await ct((()=>Promise.resolve().then((()=>Gs))),void 0)).default},[Lt.blueRed]:{id:Lt.blueRed,light:async()=>(await ct((()=>Promise.resolve().then((()=>Js))),void 0)).default,dark:async()=>(await ct((()=>Promise.resolve().then((()=>Qs))),void 0)).default},[Lt.blackWhite]:{id:Lt.blackWhite,light:async()=>(await ct((()=>import("./Bsr14g7q.js").then((e=>e.k))),[])).default,dark:async()=>(await ct((()=>Promise.resolve().then((()=>Zs))),void 0)).default},[Lt.neutral]:{id:Lt.neutral,light:async()=>(await ct((()=>Promise.resolve().then((()=>Xs))),void 0)).default,dark:async()=>(await ct((()=>Promise.resolve().then((()=>ea))),void 0)).default}},e);jt([Tt],Vt.prototype,"setMode"),jt([Tt],Vt.prototype,"setTheme");let Rt=Vt;function Mt(e){const t=e.indexOf("//"),o=-1!==t?t+2:0;return e.slice(o)}const Bt={get:function(e){return new URLSearchParams(window.self.location.search).get(e)},remove:function(e){const t=new URLSearchParams(window.self.location.search);t.delete(e),window.self.history.replaceState(null,"",t.size?`/terminal?${t.toString()}`:"/terminal")},stringify:function(e,t="?"){const o=[];return Object.keys(e).forEach((t=>{const r=e[t];"boolean"==typeof r?o.push(`${t}=${Number(r)}`):("number"==typeof r&&!isNaN(r)||r)&&o.push(`${t}=${r}`)})),o.length?`${t}${o.join("&")}`:""},parse:function(e=window.self.location.search){const t=new URLSearchParams(e),o={};return t.forEach(((e,t)=>{o[t]=e})),o}};class Ht{constructor(){Q(this,t,{})}getItem(e){return J(this,t)[e]??null}setItem(e,o){J(this,t)[e]=o}removeItem(e){delete J(this,t)[e]}clear(){Z(this,t,{})}get length(){return Object.keys(J(this,t)).length}key(e){return Object.keys(J(this,t))[e]??null}}t=new WeakMap;class zt{constructor(e){Q(this,o),function(e){try{return!!e&&(e.setItem("a","b"),e.removeItem("a"),!0)}catch(t){return!1}}(e)?Z(this,o,e):Z(this,o,new Ht)}getItem(e){return J(this,o).getItem(e)}setItem(e,t){J(this,o).setItem(e,t)}removeItem(e){J(this,o).removeItem(e)}}o=new WeakMap;const Nt=new zt(window.localStorage),Ut=new zt(window.sessionStorage);let Ft=!1,qt=!1,Wt=!1,Kt=!1,Yt="",Gt=[];if("undefined"!=typeof window){const e=(null==localStorage?void 0:localStorage.getItem("journal"))??"10";Ft="1"===e[0],qt="1"===e[1],Wt="1"===e[2],Kt="1"===e[3],Yt=(null==localStorage?void 0:localStorage.getItem("f"))||"",Gt=JSON.parse((null==localStorage?void 0:localStorage.getItem("tags"))||"[]")}const Jt={};function Qt(){null==localStorage||localStorage.setItem("tags",JSON.stringify(Gt))}function Zt(...e){return{log:()=>{},second:()=>{},repeat:()=>{},warn:()=>{},err:()=>{}}}r=new WeakMap;let Xt=class e{constructor(e){Q(this,r,(()=>{const e=window.getComputedStyle(document.documentElement);this.setVariables(e),this.setColors(e)})),this.themeStore=e}static init(){let e=0,t=Lt.greenRed;const o=Nt.getItem("theme-mode");if(1===Number(o))e=1;else{const t=Bt.get("theme-mode");1===Number(t)&&(e=1)}const r=Nt.getItem("theme");if(r===Lt.greenRed||r===Lt.blueRed||r===Lt.blackWhite||r===Lt.neutral)t=r;else{const e=function(){switch((Bt.get("theme")??"").toLowerCase()){case Lt.greenRed.toLowerCase():return Lt.greenRed;case Lt.blueRed.toLowerCase():return Lt.blueRed;case Lt.blackWhite.toLowerCase():return Lt.blackWhite;case Lt.neutral.toLowerCase():return Lt.neutral;default:return""}}();e!==Lt.greenRed&&e!==Lt.blueRed&&e!==Lt.blackWhite&&e!==Lt.neutral||(t=e)}return{theme:t,mode:e}}static async load(e,t){return 1===e?{...await Rt.THEMES[t].dark()}:{...await Rt.THEMES[t].light()}}init(){const{theme:t,mode:o}=e.init();this.themeStore.subscribe(J(this,r)),this.setThemeOptions(o,t)}setMode(e){Nt.setItem("theme-mode",e.toString()),this.setThemeOptions(e,this.themeStore.theme)}setTheme(e){Nt.setItem("theme",e),this.setThemeOptions(this.themeStore.mode,e)}async setThemeOptions(t,o){const r=await e.load(t,o);this.themeStore.updateColors(r);const n=window.getComputedStyle(document.documentElement);this.setColors(n),this.setVariables(n),this.themeStore.setMode(t),this.themeStore.setTheme(o)}setColors(e){const t=this.themeStore.colors;[["--color-background",`${kt(t.background)}`],["--color-bottomPanel",`${kt(t.bottomPanel)}`],["--color-border",`${kt(t.border)}`],["--color-card",`${kt(t.card)}`],["--color-icon-default",`${kt(t.icon.default)}`],["--color-icon-disabled",`${kt(t.icon.disabled)}`],["--color-fill-blue",`${kt(t.fill.blue)}`],["--color-fill-blueHover",`${kt(t.fill.blueHover)}`],["--color-fill-blueActive",`${kt(t.fill.blueActive)}`],["--color-fill-red",`${kt(t.fill.red)}`],["--color-fill-red-rgb",`${St(t.fill.red)}`],["--color-fill-green",`${kt(t.fill.green)}`],["--color-fill-green-rgb",`${St(t.fill.green)}`],["--color-fill-greenHover",`${kt(t.fill.greenHover)}`],["--color-fill-greenActive",`${kt(t.fill.greenActive)}`],["--color-fill-red",`${kt(t.fill.red)}`],["--color-fill-redHover",`${kt(t.fill.redHover)}`],["--color-fill-redActive",`${kt(t.fill.redActive)}`],["--color-fill-lightBlue",`${kt(t.fill.lightBlue)}`],["--color-fill-lightBlueHover",`${kt(t.fill.lightBlueHover)}`],["--color-fill-lightBlueActive",`${kt(t.fill.lightBlueActive)}`],["--color-fill-lightRed",`${kt(t.fill.lightRed)}`],["--color-fill-lightRedHover",`${kt(t.fill.lightRedHover)}`],["--color-fill-lightRedActive",`${kt(t.fill.lightRedActive)}`],["--color-fill-orange",`${kt(t.fill.orange)}`],["--color-fill-orangeHover",`${kt(t.fill.orangeHover)}`],["--color-fill-orangeActive",`${kt(t.fill.orangeActive)}`],["--color-fill-lightYellow",`${kt(t.fill.lightYellow)}`],["--color-fill-total",`${kt(t.fill.total)}`],["--color-text-default",`${kt(t.text.default)}`],["--color-text-secondary",`${kt(t.text.secondary)}`],["--color-text-inverted",`${kt(t.text.inverted)}`],["--color-text-red",`${kt(t.text.red)}`],["--color-text-blue",`${kt(t.text.blue)}`],["--color-text-green",`${kt(t.text.green)}`],["--color-text-orange",`${kt(t.text.orange)}`],["--color-text-disabled",`${kt(t.text.disabled)}`],["--color-input-fill-disabled",`${kt(t.input.fill.disabled)}`],["--color-input-border-default",`${kt(t.input.border.default)}`],["--color-input-border-hover",`${kt(t.input.border.hover)}`],["--color-input-border-invalid",`${kt(t.input.border.invalid)}`],["--color-button-disabled",`${kt(t.button.disabled)}`],["--color-scroll",`${kt(t.scroll)}`],["--color-dark",t.dark.toString()],["--theme-mode",t.dark?"dark":"light"],["--color-chart-title",`${kt(t.chart.titleColor)}`],["--color-chart-indicator-title",`${kt(t.chart.indicator.titleColor)}`]].forEach((([t,o])=>{e.getPropertyValue(t)!==o&&document.documentElement.style.setProperty(t,o)}))}setVariables(e){const t=this.themeStore.sizes;[["--indent",`${t.indent.toString(10)}px`],["--indent2","calc(var(--indent) * 2)"],["--indent3","calc(var(--indent) * 3)"],["--indent-one-half","calc(var(--indent) * 1.5)"],["--indent-half","calc(var(--indent) * 0.5)"],["--font-family",t.font.family],["--font-size",`${t.font.size}px`],["--font-big",`${t.font.big}px`],["--font-small",`${t.font.small}px`],["--font-tiny",`${t.font.tiny}px`],["--button-radius",`${t.button.radius.toString(10)}px`],["--button-font-size",`${t.button.font.size}px`],["--menu-shadow",t.menu.shadow],["--popup-shadow",t.popup.shadow],["--bot-bar-height","calc(var(--indent) * 7 + 1px + env(safe-area-inset-bottom) / 2)"],["--m-screen-header-height","calc(var(--indent) * 6 + 1px)"],["--history-custom-period-height-mobile","calc(var(--indent) * 6.5)"],["--history-custom-period-height-desktop","calc(var(--indent) * 4)"],["--save-left","env(safe-area-inset-left)"],["--save-right","env(safe-area-inset-right)"],["--screen-width","calc(100% - var(--save-left) - var(--save-right))"],["--zIndex-base",`${t.zIndex.base}`],["--zIndex-mainScreen",`${t.zIndex.base}`],["--zIndex-screenHeader",`${t.zIndex.screenHeader}`],["--zIndex-popupScreen",`${t.zIndex.popupScreen}`],["--zIndex-contextMenu",`${t.zIndex.contextMenu}`]].forEach((([t,o])=>{e.getPropertyValue(t)!==o&&document.documentElement.style.setProperty(t,o)}))}};const eo=class e{constructor(e,t,o){this.themeStore=new Rt(e,t,o),this.themeController=new Xt(this.themeStore)}static async create(){const{theme:t,mode:o}=Xt.init(),r=await Xt.load(o,t),n=new e(t,o,r);return n.themeController.init(),n}};eo.ThemeStore=Rt,eo.ThemeController=Xt;let to=eo;var oo=(e=>(e[e.Symbol=0]="Symbol",e[e.Bid=1]="Bid",e[e.Ask=2]="Ask",e[e.DailyChange=3]="DailyChange",e[e.High=4]="High",e[e.Low=5]="Low",e[e.Spread=6]="Spread",e[e.Time=7]="Time",e[e.BidHigh=8]="BidHigh",e[e.BidLow=9]="BidLow",e[e.AskHigh=10]="AskHigh",e[e.AskLow=11]="AskLow",e[e.PriceOpen=12]="PriceOpen",e[e.PriceClose=13]="PriceClose",e[e.Last=14]="Last",e[e.LastHigh=15]="LastHigh",e[e.LastLow=16]="LastLow",e))(oo||{});const ro={},no=document.createElement("div");function io(e,t=!1,o=13,r=400,n="Trebuchet MS,Roboto,Ubuntu,sans-serif"){let i=String(e);if(t&&(i=i.replace(/\w/g,"0")),ro[o]&&ro[o][r]&&ro[o][r][n]&&ro[o][r][n][i])return ro[o][r][n][i];ro[o]=ro[o]??{},ro[o][r]=ro[o][r]??{},ro[o][r][n]=ro[o][r][n]??{},no.innerText=i,no.style.position="absolute",no.style.fontSize=`${o}px`,no.style.fontWeight=String(r),no.style.fontFamily=n,document.body.appendChild(no);const s=no.clientWidth;return ro[o][r][n][i]=s,document.body.removeChild(no),no.innerText="",s}function so(e,t){const o=ye(e,t).toFixed(t).split(".");return o[0]=o[0].replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 "),o.join(".")}const ao={toMoney:so};var lo=(e=>(e[e.Symbol=0]="Symbol",e[e.Ticket=1]="Ticket",e[e.Time=2]="Time",e[e.Type=3]="Type",e[e.Volume=4]="Volume",e[e.Price=5]="Price",e[e.Sl=6]="Sl",e[e.Tp=7]="Tp",e[e.MarketPrice=8]="MarketPrice",e[e.Swap=9]="Swap",e[e.Profit=10]="Profit",e[e.Comment=11]="Comment",e[e.Controls=12]="Controls",e))(lo||{});function co(e){switch(e){case 0:return{title:window.tr(window.lang.trade.table.columns.symbol)};case 1:return{title:window.tr(window.lang.trade.table.columns.ticket)};case 2:return{title:window.tr(window.lang.trade.table.columns.time)};case 3:return{title:window.tr(window.lang.trade.table.columns.type)};case 4:return{title:window.tr(window.lang.trade.table.columns.volume)};case 5:return{title:window.tr(window.lang.trade.table.columns.priceOpen),description:window.tr(window.lang.trade.table.columns.priceOpenDescription)};case 6:return{title:"S / L",description:window.tr(window.lang.trade.table.columns.slDescription)};case 7:return{title:"T / P",description:window.tr(window.lang.trade.table.columns.tpDescription)};case 8:return{title:window.tr(window.lang.trade.table.columns.priceClose),description:window.tr(window.lang.trade.table.columns.priceCloseDescription)};case 9:return{title:window.tr(window.lang.trade.table.columns.swap)};case 10:return{title:window.tr(window.lang.trade.table.columns.profit)};case 11:return{title:window.tr(window.lang.trade.table.columns.comment)};default:return{title:""}}}const uo=[{key:0,name:["symbol","symbol"]},{visible:1,key:1,name:["id","order"],level:3},{visible:2,key:2,name:["timeCreate","timeSetup"]},{visible:3,key:3,name:["typeName","typeName"]},{visible:4,key:4,name:["volumeValue","volumeValue"],right:!0},{key:5,name:["priceOpen","price"],right:!0},{visible:6,key:6,name:["sl","sl"],right:!0},{visible:7,key:7,name:["tp","tp"],right:!0},{visible:8,key:8,name:["priceClose","priceCurrent"],right:!0},{visible:9,key:9,name:["storage",""],right:!0,level:1},{key:10,name:["profit",""],right:!0},{visible:11,key:11,name:["comment",""],level:2}],ho={};function mo(e,t,o){let r=function(e){const t=e+16;return{0:io(window.tr(window.lang.trade.table.columns.symbol),!1,12)+t,1:io(window.tr(window.lang.trade.table.columns.ticket),!1,12)+t,2:io(window.tr(window.lang.trade.table.columns.time),!1,12)+t,3:io(window.tr(window.lang.trade.table.columns.type),!1,12)+t,4:io(window.tr(window.lang.trade.table.columns.volume),!1,12)+t,5:io(window.tr(window.lang.trade.table.columns.priceOpen),!1,12)+t,6:io("S / L",!1,12)+t,7:io("T / P",!1,12)+t,8:io(window.tr(window.lang.trade.table.columns.priceClose),!1,12)+t,9:io(window.tr(window.lang.trade.table.columns.swap),!1,12)+t,10:io(window.tr(window.lang.trade.table.columns.profit),!1,12)+t,11:io(window.tr(window.lang.trade.table.columns.comment),!1,12)+t,12:40+t}}(o);return r=function(e,t,o=0){return t.forEach((({value:t})=>{const r=t;e[0]=Math.max(io(r.symbol)+o,e[0]),e[1]=Math.max(io(r.id,!0)+o,e[0]),e[2]=100,e[3]=Math.max(io(r.typeName)+o,e[3]),e[4]=Math.max(io(r.volume)+o,e[4]),e[5]=Math.max(io(so(r.priceOpen,r.digits),!0)+o,e[5]),e[6]=Math.max(io(so(r.sl,r.digits),!0)+o,e[6]),e[7]=Math.max(io(so(r.tp,r.digits),!0)+o,e[7]),e[8]=Math.max(io(so(r.priceClose,r.digits),!0)+o,e[8]),e[9]=Math.max((r.storage?io(r.storage,!0):0)+o,e[9]),e[10]=Math.max(io(so(r.profit,r.digitsCurrency),!0)+o,e[10]),e[11]=Math.max(io(r.comment)+o,e[11]),e[12]=40+o})),{...e}}(r,e,o),r=function(e,t,o=0){return t.forEach((({value:t})=>{const r=t;e[0]=Math.max(io(r.symbol)+o,e[0]),e[1]=Math.max(io(r.order,!0)+o,e[0]),e[2]=100,e[3]=Math.max(io(r.typeName)+o,e[3]),e[4]=Math.max(io(r.volume)+o,e[4]),e[5]=Math.max(io(so(r.price,r.digits),!0)+o,e[5]),e[6]=Math.max((r.sl?io(so(r.sl,r.digits),!0):0)+o,e[6]),e[7]=Math.max((r.tp?io(so(r.tp,r.digits),!0):0)+o,e[7]),e[8]=Math.max(io(so(r.priceCurrent,r.digits),!0)+o,e[8]),e[9]=Math.max(o,e[9]),e[10]=Math.max(io(r.state)+o,e[10]),e[11]=Math.max(io(r.comment)+o,e[11]),e[12]=40+o})),e}(r,t,o),r}uo.forEach((e=>{ho[e.key]=e}));const go=Object.freeze("January February March April May June July August September October November December".split(" ")),po=Object.freeze("Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")),fo=Object.freeze("Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")),wo=Object.freeze("Sun Mon Tue Wed Thu Fri Sat".split(" "));function yo(e,t="DD.MM.YY hhhh:mm:ss",o=!0){const r=new Date(e),n=o,i=n?r.getUTCDate():r.getDate(),s=n?r.getUTCMonth():r.getMonth(),a=n?r.getUTCFullYear():r.getFullYear(),l=n?r.getUTCMinutes():r.getMinutes(),c=n?r.getUTCSeconds():r.getSeconds(),u=n?r.getUTCHours():r.getHours(),d=n?r.getUTCDay():r.getDay(),h=n?r.getUTCMilliseconds():r.getMilliseconds();function m(e,o){let r,n=4;for(;n>1;){if(r=new Array(n+1).join(o),t.substring(e,e+n)===r)return r;n-=1}return o}const g=new Map;g.set("sss",h.toString().padStart(3,"0")),g.set("ss",c.toString().padStart(2,"0")),g.set("s",c),g.set("mm",l.toString().padStart(2,"0")),g.set("m",l),g.set("hhhh",u.toString().padStart(2,"0")),g.set("hhh",u),g.set("hh",u>12?`${(24-u).toString().padStart(2,"0")}PM`:`${u.toString().padStart(2,"0")}AM`),g.set("h",u>12?24-u+"PM":`${u}AM`),g.set("DDDD",fo[d]),g.set("DDD",wo[d]),g.set("DD",i.toString().padStart(2,"0")),g.set("D",i),g.set("MMMM",go[s]),g.set("MMM",po[s]),g.set("MM",(s+1).toString().padStart(2,"0")),g.set("M",s+1),g.set("YY",a),g.set("Y",a.toString().substring(2));let p,f,w="";for(let y=0,b=t.length;y<b;y++)p=t.charAt(y),f=m(y,p),g.has(f)?(w+=g.get(f),y+=f.length-1):w+=p;return w}var bo=(e=>(e.TimeOpen="timeOpen",e.Id="id",e.Type="type",e.VolumeValue="volumeValue",e.Symbol="symbol",e.PriceOpen="priceOpen",e.Sl="sl",e.Tp="tp",e.TimeClose="timeClose",e.PriceClose="priceClose",e.Commission="commission",e.CommissionFee="commissionFee",e.Storage="storage",e.Profit="profit",e.Comment="comment",e))(bo||{});function _o(e){switch(e){case"timeOpen":return{title:window.tr(window.lang.trade.history.positions.columns.timeOpen),description:window.tr(window.lang.trade.history.positions.columns.timeOpenDescription)};case"id":return{title:window.tr(window.lang.trade.history.positions.columns.ticket)};case"type":return{title:window.tr(window.lang.trade.history.positions.columns.type)};case"volumeValue":return{title:window.tr(window.lang.trade.history.positions.columns.volume)};case"symbol":return{title:window.tr(window.lang.trade.history.positions.columns.symbol)};case"priceOpen":return{title:window.tr(window.lang.trade.history.positions.columns.priceOpen),description:window.tr(window.lang.trade.history.positions.columns.priceOpenDescription)};case"sl":return{title:"S / L",description:window.tr(window.lang.trade.history.positions.columns.slDescription)};case"tp":return{title:"T / P",description:window.tr(window.lang.trade.history.positions.columns.tpDescription)};case"timeClose":return{title:window.tr(window.lang.trade.history.positions.columns.timeClose),description:window.tr(window.lang.trade.history.positions.columns.timeCloseDescription)};case"priceClose":return{title:window.tr(window.lang.trade.history.positions.columns.priceClose),description:window.tr(window.lang.trade.history.positions.columns.priceCloseDescription)};case"commission":return{title:window.tr(window.lang.trade.history.positions.columns.commission)};case"commissionFee":return{title:window.tr(window.lang.trade.history.positions.columns.fee)};case"storage":return{title:window.tr(window.lang.trade.history.positions.columns.swap)};case"profit":return{title:window.tr(window.lang.trade.history.positions.columns.profit)};case"comment":return{title:window.tr(window.lang.trade.history.positions.columns.comment)};default:return{title:""}}}const Co=[{key:"timeOpen",left:!0,mobileSorting:!0},{key:"id",level:3,mobileSorting:!0},{key:"type",mobileSorting:!0},{key:"volumeValue",mobileSorting:!0},{key:"symbol",left:!0,showAlways:!0,mobileSorting:!0},{key:"priceOpen"},{key:"sl"},{key:"tp"},{key:"timeClose",mobileSorting:!0},{key:"priceClose"},{key:"commission",level:2},{key:"commissionFee",level:2},{key:"storage",level:1},{key:"profit",showAlways:!0,mobileSorting:!0},{key:"comment",level:1}];var vo=(e=>(e.TimeSetup="timeSetup",e.Order="order",e.Symbol="symbol",e.Type="type",e.VolumeValue="volumeValue",e.Price="price",e.Sl="sl",e.Tp="tp",e.TimeDone="timeDone",e.State="state",e.Comment="comment",e))(vo||{});function $o(e){switch(e){case"timeSetup":return{title:window.tr(window.lang.trade.history.orders.columns.timeSetup),description:window.tr(window.lang.trade.history.orders.columns.timeSetupDescription)};case"order":return{title:window.tr(window.lang.trade.history.orders.columns.ticket)};case"symbol":return{title:window.tr(window.lang.trade.history.orders.columns.symbol)};case"type":return{title:window.tr(window.lang.trade.history.orders.columns.type)};case"volumeValue":return{title:window.tr(window.lang.trade.history.orders.columns.volume)};case"price":return{title:window.tr(window.lang.trade.history.orders.columns.price)};case"sl":return{title:"S / L",description:window.tr(window.lang.trade.history.orders.columns.slDescription)};case"tp":return{title:"T / P",description:window.tr(window.lang.trade.history.orders.columns.tpDescription)};case"timeDone":return{title:window.tr(window.lang.trade.history.orders.columns.timeDone),description:window.tr(window.lang.trade.history.orders.columns.timeDoneDescription)};case"state":return{title:window.tr(window.lang.trade.history.orders.columns.state)};case"comment":return{title:window.tr(window.lang.trade.history.orders.columns.comment)};default:return{title:""}}}const ko=[{key:"timeSetup",left:!0,mobileSorting:!0},{key:"order",level:2,mobileSorting:!0},{key:"symbol",left:!0,showAlways:!0,mobileSorting:!0},{key:"type",showAlways:!0,mobileSorting:!0},{key:"volumeValue",mobileSorting:!0},{key:"price",showAlways:!0},{key:"sl"},{key:"tp"},{key:"timeDone",mobileSorting:!0},{key:"state",mobileSorting:!0},{key:"comment",level:1}];var So=(e=>(e.TimeCreate="timeCreate",e.Deal="deal",e.Order="order",e.Symbol="symbol",e.Action="action",e.Entry="entry",e.Volume="volume",e.PriceClose="priceClose",e.Commission="commission",e.CommissionFee="commissionFee",e.Storage="storage",e.Profit="profit",e.Comment="comment",e))(So||{});function Eo(e){switch(e){case"timeCreate":return window.tr(window.lang.trade.history.deals.columns.time);case"deal":return window.tr(window.lang.trade.history.deals.columns.ticket);case"order":return window.tr(window.lang.trade.history.deals.columns.order);case"symbol":return window.tr(window.lang.trade.history.deals.columns.symbol);case"action":return window.tr(window.lang.trade.history.deals.columns.type);case"entry":return window.tr(window.lang.trade.history.deals.columns.direction);case"volume":return window.tr(window.lang.trade.history.deals.columns.volume);case"priceClose":return window.tr(window.lang.trade.history.deals.columns.price);case"commission":return window.tr(window.lang.trade.history.deals.columns.commission);case"commissionFee":return window.tr(window.lang.trade.history.deals.columns.fee);case"storage":return window.tr(window.lang.trade.history.deals.columns.swap);case"profit":return window.tr(window.lang.trade.history.deals.columns.profit);case"comment":return window.tr(window.lang.trade.history.deals.columns.comment);default:return""}}const Po=[{key:"timeCreate",left:!0,mobileSorting:!0},{key:"deal",level:3,mobileSorting:!0},{key:"order"},{key:"symbol",left:!0,showAlways:!0,mobileSorting:!0},{key:"action",mobileSorting:!0},{key:"entry"},{key:"volume",mobileSorting:!0},{key:"priceClose"},{key:"commission",level:2},{key:"commissionFee",level:2},{key:"storage"},{key:"profit",showAlways:!0,mobileSorting:!0},{key:"comment",level:1}];function Ao(e){return e?yo(new Date(e),"YY.MM.DD hhhh:mm:ss"):""}function To(e){return{[bo.TimeOpen]:io(_o(bo.TimeOpen).title,!1,12)+e,[bo.Id]:io(_o(bo.Id).title,!1,12)+e,[bo.Type]:io(_o(bo.Type).title,!1,12)+e,[bo.VolumeValue]:io(_o(bo.VolumeValue).title,!1,12)+e,[bo.Symbol]:io(_o(bo.Symbol).title,!1,12)+e,[bo.PriceOpen]:io(_o(bo.PriceOpen).title,!1,12)+e,[bo.Sl]:io(_o(bo.Sl).title,!1,12)+e,[bo.Tp]:io(_o(bo.Tp).title,!1,12)+e,[bo.TimeClose]:io(_o(bo.TimeClose).title,!1,12)+e,[bo.PriceClose]:io(_o(bo.PriceClose).title,!1,12)+e,[bo.Commission]:io(_o(bo.Commission).title,!1,12)+e,[bo.CommissionFee]:io(_o(bo.CommissionFee).title,!1,12)+e,[bo.Storage]:io(_o(bo.Storage).title,!1,12)+e,[bo.Profit]:io(_o(bo.Profit).title,!1,12)+e,[bo.Comment]:io(_o(bo.Comment).title,!1,12)+e}}function xo(e,t,o=0){const r={...To(o)};return t.forEach((({value:t})=>{r[bo.TimeOpen]=Math.max(io(Ao(t.timeOpen),!0)+o,r[bo.TimeOpen]),r[bo.Id]=Math.max(io(t.id,!0)+o,r[bo.Id]),r[bo.Type]=Math.max(io(e(t.type))+o,r[bo.Type]),r[bo.VolumeValue]=Math.max(io(t.volume,!0)+o,r[bo.VolumeValue]),r[bo.Symbol]=Math.max(io(t.symbol)+o,r[bo.Symbol]),r[bo.PriceOpen]=Math.max(io(so(t.priceOpen,t.digits),!0)+o,r[bo.PriceOpen]),r[bo.Sl]=Math.max(io(t.sl?so(t.sl,t.digits):"",!0)+o,r[bo.Sl]),r[bo.Tp]=Math.max(io(t.tp?so(t.tp,t.digits):"",!0)+o,r[bo.Tp]),r[bo.TimeClose]=Math.max(io(Ao(t.timeClose),!0)+o,r[bo.TimeClose]),r[bo.PriceClose]=Math.max(io(so(t.priceClose,t.digits),!0)+o,r[bo.PriceClose]),r[bo.Commission]=Math.max(io(t.commission?so(t.commission,t.digitsCurrency):"",!0)+o,r[bo.Commission]),r[bo.CommissionFee]=Math.max(io(t.commissionFee?so(t.commissionFee,t.digitsCurrency):"",!0)+o,r[bo.CommissionFee]),r[bo.Storage]=Math.max(io(t.storage?so(t.storage,t.digitsCurrency):"",!0)+o,r[bo.Storage]),r[bo.Profit]=Math.max(io(so(t.profit??0,t.digitsCurrency),!0)+o,r[bo.Profit]),r[bo.Comment]=Math.max(io(t.comment)+o,r[bo.Comment])})),r}function Do(){return{[bo.TimeOpen]:!0,[bo.Id]:!0,[bo.Type]:!0,[bo.VolumeValue]:!0,[bo.PriceOpen]:!0,[bo.Sl]:!0,[bo.Tp]:!0,[bo.TimeClose]:!0,[bo.PriceClose]:!0,[bo.Commission]:!0,[bo.CommissionFee]:!0,[bo.Storage]:!0}}function Oo(e){return{[vo.TimeSetup]:io($o(vo.TimeSetup).title,!1,12)+e,[vo.Order]:io($o(vo.Order).title,!1,12)+e,[vo.Symbol]:io($o(vo.Symbol).title,!1,12)+e,[vo.Type]:io($o(vo.Type).title,!1,12)+e,[vo.VolumeValue]:io($o(vo.VolumeValue).title,!1,12)+e,[vo.Price]:io($o(vo.Price).title,!1,12)+e,[vo.Sl]:io($o(vo.Sl).title,!1,12)+e,[vo.Tp]:io($o(vo.Tp).title,!1,12)+e,[vo.TimeDone]:io($o(vo.TimeDone).title,!1,12)+e,[vo.State]:io($o(vo.State).title,!1,12)+e,[vo.Comment]:io($o(vo.Comment).title,!1,12)+e}}function jo(e,t,o=0){const r={...Oo(o)};return t.forEach((({value:t})=>{r[vo.TimeSetup]=Math.max(io(Ao(t.timeSetup),!0)+o,r[vo.TimeSetup]),r[vo.Order]=Math.max(io(t.order,!0)+o,r[vo.Order]),r[vo.Symbol]=Math.max(io(t.symbol)+o,r[vo.Symbol]),r[vo.Type]=Math.max(io(e.printType(t.type))+o,r[vo.Type]),r[vo.VolumeValue]=Math.max(io(t.volumeSize,!0)+o,r[vo.VolumeValue]),r[vo.Price]=Math.max(io(t.price?so(t.price,t.digits):"",!0)+o,r[vo.Price]),r[vo.Sl]=Math.max(io(t.sl?so(t.sl,t.digits):"",!0)+o,r[vo.Sl]),r[vo.Tp]=Math.max(io(t.tp?so(t.tp,t.digits):"",!0)+o,r[vo.Tp]),r[vo.TimeDone]=Math.max(io(Ao(t.timeDone),!0)+o,r[vo.TimeDone]),r[vo.State]=Math.max(io(e.printOrderStatus(t.state))+o,r[vo.State]),r[vo.Comment]=Math.max(io(t.comment)+o,r[vo.Comment])})),r}function Lo(){return{[vo.TimeSetup]:!0,[vo.Order]:!0,[vo.VolumeValue]:!0,[vo.Sl]:!0,[vo.Tp]:!0,[vo.TimeDone]:!0,[vo.State]:!0,[vo.Comment]:!0}}function Io(e){return{[So.TimeCreate]:io(Eo(So.TimeCreate),!1,12)+e,[So.Deal]:io(Eo(So.Deal),!1,12)+e,[So.Order]:io(Eo(So.Order),!1,12)+e,[So.Symbol]:io(Eo(So.Symbol),!1,12)+e,[So.Action]:io(Eo(So.Action),!1,12)+e,[So.Entry]:io(Eo(So.Entry),!1,12)+e,[So.Volume]:io(Eo(So.Volume),!1,12)+e,[So.PriceClose]:io(Eo(So.PriceClose),!1,12)+e,[So.Commission]:io(Eo(So.Commission),!1,12)+e,[So.CommissionFee]:io(Eo(So.CommissionFee),!1,12)+e,[So.Storage]:io(Eo(So.Storage),!1,12)+e,[So.Profit]:io(Eo(So.Profit),!1,12)+e,[So.Comment]:io(Eo(So.Comment),!1,12)+e}}function Vo(e,t,o=0){const r={...Io(o)};return t.forEach((({value:t})=>{r[So.TimeCreate]=Math.max(io(Ao(t.timeCreate),!0)+o,r[So.TimeCreate]),r[So.Deal]=Math.max(io(t.deal,!0)+o,r[So.Deal]),r[So.Order]=Math.max(io(t.order,!0)+o,r[So.Order]),r[So.Symbol]=Math.max(io(t.symbol)+o,r[So.Symbol]),r[So.Action]=Math.max(io(e(t.action))+o,r[So.Action]),r[So.Entry]=Math.max(io(t.entry)+o,r[So.Entry]),r[So.Volume]=Math.max(io(t.volume)+o,r[So.Volume]),r[So.PriceClose]=Math.max(io(so(t.priceOpen,t.digits),!0)+o,r[So.PriceClose]),r[So.Commission]=Math.max(io(t.commission?so(t.commission,t.digitsCurrency):"",!0)+o,r[So.Commission]),r[So.CommissionFee]=Math.max(io(t.commissionFee?so(t.commissionFee,t.digitsCurrency):"",!0)+o,r[So.CommissionFee]),r[So.Storage]=Math.max(io(t.storage?so(t.storage,t.digitsCurrency):"",!0)+o,r[So.Storage]),r[So.Profit]=Math.max(io(so(t.profit??0,t.digitsCurrency),!0)+o,r[So.Profit]),r[So.Comment]=Math.max(io(t.comment)+o,r[So.Comment])})),r}function Ro(){return{[So.TimeCreate]:!0,[So.Deal]:!0,[So.Order]:!0,[So.Action]:!0,[So.Entry]:!0,[So.Volume]:!0,[So.PriceClose]:!0,[So.Commission]:!0,[So.CommissionFee]:!0,[So.Storage]:!0,[So.Comment]:!0}}const Mo="_name",Bo={layout:"layout",uiSettings:"ui_settings",users:"users",objects:"objects",indicators:"indicators",indicatorsByOrder:"indicatorsByOrder",configs:"configs",tradeBars:"trade_bars",marks:"marks",watchlist:"watchlist",userSettings:"user_settings",charts:"charts"};var Ho=Object.defineProperty,zo=Object.getOwnPropertyDescriptor,No=(e,t,o,r)=>{for(var n,i=zo(t,o),s=e.length-1;s>=0;s--)(n=e[s])&&(i=n(t,o,i)||i);return i&&Ho(t,o,i),i};function Uo(){return{[lo.Ticket]:!0,[lo.Time]:!0,[lo.Type]:!0,[lo.Volume]:!0,[lo.Sl]:!0,[lo.Tp]:!0,[lo.MarketPrice]:!0,[lo.Swap]:!0,[lo.Comment]:!0,[lo.Controls]:!0}}class Fo extends At{constructor(){super(),this._systemName=Bo.uiSettings,this.firstChartDate=0,this.controlsOnChart=!0,this.notifications=!0,this.ohlc=!1,this.grid=!0,this.watchlistColumnsWidth={},this.watchlistColumnsVisible={[oo.Symbol]:!0,[oo.Bid]:!0,[oo.Ask]:!0,[oo.DailyChange]:!0,[oo.High]:!1,[oo.Low]:!1,[oo.Spread]:!1,[oo.Time]:!1,[oo.BidHigh]:!1,[oo.BidLow]:!1,[oo.AskHigh]:!1,[oo.AskLow]:!1,[oo.PriceOpen]:!1,[oo.PriceClose]:!1,[oo.Last]:!1,[oo.LastHigh]:!1,[oo.LastLow]:!1},this.quotesColumnsVisible=Uo(),this.watchlistSortDirection=0,this.historyPositionsColumnsVisible=Do(),this.historyPositionsSortDirection=0,this.historyPositionsHorizontalScroll=!1,this.historyOrdersColumnsVisible=Lo(),this.historyOrdersSortDirection=0,this.historyOrdersHorizontalScroll=!1,this.historyDealsColumnsVisible=Ro(),this.historyDealsSortDirection=0,this.historyDealsHorizontalScroll=!1,this.debugMode=!1,this.quickTrade=!1,this.quickTradePosition=!0,this.crosshair=!1,this.popupSizes={},this.askPrice=!1,this.chartMode=0,this.showCalendar=!1,this.marketWatchTableView=!1}resetQuotesColumsVisible(){this.quotesColumnsVisible=Uo()}setSettings(e){"boolean"==typeof e.showCalendar&&(this.showCalendar=e.showCalendar),"boolean"==typeof e.marketWatchTableView&&(this.marketWatchTableView=e.marketWatchTableView),"number"==typeof e.chartMode&&(this.chartMode=e.chartMode),"number"==typeof e.firstChartDate&&(this.firstChartDate=e.firstChartDate),"boolean"==typeof e.controlsOnChart&&(this.controlsOnChart=e.controlsOnChart),"boolean"==typeof e.notifications&&(this.notifications=e.notifications),"boolean"==typeof e.ohlc&&(this.ohlc=e.ohlc),"boolean"==typeof e.grid&&(this.grid=e.grid),"boolean"==typeof e.debugMode&&(this.debugMode=e.debugMode),"boolean"==typeof e.quickTrade&&(this.quickTrade=e.quickTrade),"boolean"==typeof e.quickTradePosition&&(this.quickTradePosition=e.quickTradePosition),"boolean"==typeof e.askPrice&&(this.askPrice=e.askPrice),this.timezone!==e.timezone&&"string"==typeof e.timezone&&(this.timezone=e.timezone),"boolean"==typeof e.crosshair&&(this.crosshair=e.crosshair),"object"==typeof e.watchlistColumnsWidth&&(this.watchlistColumnsWidth={...this.watchlistColumnsWidth,...e.watchlistColumnsWidth}),e.watchlistColumnsVisible&&(this.watchlistColumnsVisible={...this.watchlistColumnsVisible,...e.watchlistColumnsVisible}),e.quotesColumnsVisible&&(this.quotesColumnsVisible={...this.quotesColumnsVisible,...e.quotesColumnsVisible}),this.watchlistSortBy=e.watchlistSortBy??this.watchlistSortBy,this.watchlistSortDirection=e.watchlistSortDirection??this.watchlistSortDirection,e.historyPositionsColumnsVisible&&(this.historyPositionsColumnsVisible={...this.historyPositionsColumnsVisible,...e.historyPositionsColumnsVisible}),this.historyPositionsSortBy=e.historyPositionsSortBy??this.historyPositionsSortBy,this.historyPositionsSortDirection=e.historyPositionsSortDirection??this.historyPositionsSortDirection,"boolean"==typeof e.historyPositionsHorizontalScroll&&(this.historyPositionsHorizontalScroll=e.historyPositionsHorizontalScroll),e.historyOrdersColumnsVisible&&(this.historyOrdersColumnsVisible={...this.historyOrdersColumnsVisible,...e.historyOrdersColumnsVisible}),this.historyOrdersSortBy=e.historyOrdersSortBy??this.historyOrdersSortBy,this.historyOrdersSortDirection=e.historyOrdersSortDirection??this.historyOrdersSortDirection,"boolean"==typeof e.historyOrdersHorizontalScroll&&(this.historyOrdersHorizontalScroll=e.historyOrdersHorizontalScroll),e.historyDealsColumnsVisible&&(this.historyDealsColumnsVisible={...this.historyDealsColumnsVisible,...e.historyDealsColumnsVisible}),this.historyDealsSortBy=e.historyDealsSortBy??this.historyDealsSortBy,this.historyDealsSortDirection=e.historyDealsSortDirection??this.historyDealsSortDirection,"boolean"==typeof e.historyDealsHorizontalScroll&&(this.historyDealsHorizontalScroll=e.historyDealsHorizontalScroll),"object"==typeof e.popupSizes&&(this.popupSizes=e.popupSizes)}resetHistoryPositionsColumnsVisible(){this.setSettings({historyPositionsColumnsVisible:Do()})}resetHistoryOrdersColumnsVisible(){this.setSettings({historyOrdersColumnsVisible:Lo()})}resetHistoryDealsColumnsVisible(){this.setSettings({historyDealsColumnsVisible:Ro()})}reset(e){delete e.timezone,this.setSettings(e)}}No([Tt],Fo.prototype,"resetQuotesColumsVisible"),No([Tt],Fo.prototype,"setSettings");const qo=[{tz:"UTC",offset:0},...function e(t){const o=[];return Object.values(t).forEach((t=>{if("object"==typeof t){const r=e(t);o.push(...r)}else o.push(t)})),o}({africa:{cairo:"Africa/Cairo",casablanca:"Africa/Casablanca",johannesburg:"Africa/Johannesburg",lagos:"Africa/Lagos",nairobi:"Africa/Nairobi",tunis:"Africa/Tunis"},america:{anchorage:"America/Anchorage",bogota:"America/Bogota",buenosAires:"America/Buenos_Aires",caracas:"America/Caracas",chicago:"America/Chicago",denver:"America/Denver",elSalvador:"America/El_Salvador",juneau:"America/Juneau",lima:"America/Lima",losAngeles:"America/Los_Angeles",mexicoCity:"America/Mexico_City",newYork:"America/New_York",phoenix:"America/Phoenix",santiago:"America/Santiago",saoPaulo:"America/Sao_Paulo",toronto:"America/Toronto",vancouver:"America/Vancouver"},asia:{almaty:"Asia/Almaty",ashgabat:"Asia/Ashgabat",bahrain:"Asia/Bahrain",bangkok:"Asia/Bangkok",calcutta:"Asia/Calcutta",colombo:"Asia/Colombo",dhaka:"Asia/Dhaka",dubai:"Asia/Dubai",hongKong:"Asia/Hong_Kong",jakarta:"Asia/Jakarta",jerusalem:"Asia/Jerusalem",karachi:"Asia/Karachi",katmandu:"Asia/Katmandu",kuwait:"Asia/Kuwait",manila:"Asia/Manila",muscat:"Asia/Muscat",nicosia:"Asia/Nicosia",qatar:"Asia/Qatar",rangoon:"Asia/Rangoon",riyadh:"Asia/Riyadh",saigon:"Asia/Saigon",seoul:"Asia/Seoul",shanghai:"Asia/Shanghai",singapore:"Asia/Singapore",taipei:"Asia/Taipei",tehran:"Asia/Tehran",tokyo:"Asia/Tokyo"},atlantic:{reykjavik:"Atlantic/Reykjavik"},australia:{adelaide:"Australia/Adelaide",brisbane:"Australia/Brisbane",perth:"Australia/Perth",sydney:"Australia/Sydney"},europe:{amsterdam:"Europe/Amsterdam",athens:"Europe/Athens",belgrade:"Europe/Belgrade",berlin:"Europe/Berlin",bratislava:"Europe/Bratislava",brussels:"Europe/Brussels",bucharest:"Europe/Bucharest",budapest:"Europe/Budapest",copenhagen:"Europe/Copenhagen",dublin:"Europe/Dublin",helsinki:"Europe/Helsinki",istanbul:"Europe/Istanbul",lisbon:"Europe/Lisbon",london:"Europe/London",luxembourg:"Europe/Luxembourg",madrid:"Europe/Madrid",malta:"Europe/Malta",moscow:"Europe/Moscow",oslo:"Europe/Oslo",paris:"Europe/Paris",prague:"Europe/Prague",riga:"Europe/Riga",rome:"Europe/Rome",stockholm:"Europe/Stockholm",tallinn:"Europe/Tallinn",vienna:"Europe/Vienna",vilnius:"Europe/Vilnius",warsaw:"Europe/Warsaw",zurich:"Europe/Zurich"},pacific:{auckland:"Pacific/Auckland",chatham:"Pacific/Chatham",fakaofo:"Pacific/Fakaofo",honolulu:"Pacific/Honolulu",norfolk:"Pacific/Norfolk"}}).map((e=>({tz:e,offset:Ko(e)}))).sort(((e,t)=>e.offset-t.offset))],Wo={};function Ko(e){const t=new Date,o=t.toLocaleString("en-US",{timeZone:e}),r=t.toLocaleString("en-US"),n=(Date.parse(r)-Date.parse(o))/6e4+t.getTimezoneOffset();return 0===n?n:-n}qo.forEach((e=>{Wo[e.tz]=e}));class Yo{constructor(e,t,o){Q(this,a),Q(this,n),Q(this,i),Q(this,s),Q(this,c,(e=>{J(this,n).add({showCalendar:e.showCalendar,controlsOnChart:e.controlsOnChart,notifications:e.notifications,ohlc:e.ohlc,grid:e.grid,debugMode:e.debugMode,quickTrade:e.quickTrade,quickTradePosition:e.quickTradePosition,askPrice:e.askPrice,watchlistColumnsWidth:e.watchlistColumnsWidth,watchlistColumnsVisible:e.watchlistColumnsVisible,watchlistSortBy:e.watchlistSortBy,watchlistSortDirection:e.watchlistSortDirection,quotesColumnsVisible:e.quotesColumnsVisible,historyPositionsColumnsVisible:e.historyPositionsColumnsVisible,historyPositionsSortBy:e.historyPositionsSortBy,historyPositionsSortDirection:e.historyPositionsSortDirection,historyPositionsHorizontalScroll:e.historyPositionsHorizontalScroll,historyOrdersColumnsVisible:e.historyOrdersColumnsVisible,historyOrdersSortBy:e.historyOrdersSortBy,historyOrdersSortDirection:e.historyOrdersSortDirection,historyOrdersHorizontalScroll:e.historyOrdersHorizontalScroll,historyDealsColumnsVisible:e.historyDealsColumnsVisible,historyDealsSortBy:e.historyDealsSortBy,historyDealsSortDirection:e.historyDealsSortDirection,historyDealsHorizontalScroll:e.historyDealsHorizontalScroll,crosshair:e.crosshair,popupSizes:e.popupSizes})})),this.uiSettingsStore=t,Z(this,s,o),Z(this,n,e)}addHotkeys(){J(this,s).addHandler(7,(()=>this.uiSettingsStore.setSettings({quickTrade:!this.uiSettingsStore.quickTrade})))}async init(){const e=await J(this,n).get(Bo.uiSettings);this.uiSettingsStore.reset(e||{}),X(this,a,l).call(this),J(this,i)&&(J(this,i).call(this),Z(this,i,void 0)),Z(this,i,this.uiSettingsStore.subscribe(J(this,c)))}toggleQuickTrade(){this.uiSettingsStore.setSettings({quickTrade:!this.uiSettingsStore.quickTrade})}}n=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakSet,l=function(){if(this.uiSettingsStore.timezone)return;let e;try{const t=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e=qo.find((e=>e.tz===t)),!e)throw new Error("Nothing is found")}catch(t){const o=(new Date).getTimezoneOffset()/60;e=qo.find((e=>e.offset===-o))}e?this.uiSettingsStore.setSettings({timezone:e.tz}):this.uiSettingsStore.setSettings({timezone:Wo.UTC.tz})},c=new WeakMap;class Go{constructor(e,t){this.uiSettingsStore=new Fo,this.uiSettingsController=new Yo(e,this.uiSettingsStore,t)}}const Jo={BOT:224,RIGHT:340,LEFT:320},Qo={None:0,Quotes:1,Journal:2,HistoryPositions:3,HistoryOrders:4,HistoryDeals:5},Zo={None:0,Connect:1,OpenDemo:2,OpenReal:3,CreatedAccount:4};var Xo=(e=>(e[e.Main=0]="Main",e[e.Account=1]="Account",e[e.Chart=2]="Chart",e))(Xo||{});class er{constructor(e,t,o){Q(this,u),Q(this,d),Q(this,h),Q(this,m,(e=>{J(this,u).add({symbols:e.symbols,botPanel:e.botPanel,depthOfMarket:e.depthOfMarket,botPanelSize:e.botPanelSize,rightPanelSize:e.rightPanelSize,leftPanelSize:e.leftPanelSize,showLeftBar:e.showLeftBar,settingsPanel:e.settingsPanel})})),this.layoutStore=t,Z(this,d,o),Z(this,u,e),Z(this,h,!1)}async init(e){const t=await J(this,u).get(Bo.layout);this.layoutStore.reset(t||{}),"open_demo"===e&&this.layoutStore.setLayout({auth:Zo.OpenDemo}),J(this,h)||(this.layoutStore.subscribe(J(this,m)),Z(this,h,!0))}addHotkeys(){J(this,d).addHandler(0,(()=>this.layoutStore.setLayout({tradeCreate:null!==this.layoutStore.tradeCreate?null:0}))),J(this,d).addHandler(5,(()=>this.layoutStore.setLayout({indicators:!this.layoutStore.indicators}))),J(this,d).addHandler(6,(()=>this.layoutStore.setLayout({depthOfMarket:!this.layoutStore.depthOfMarket}))),J(this,d).addHandler(8,(()=>this.layoutStore.setLayout({symbols:!this.layoutStore.symbols}))),J(this,d).addHandler(1,(()=>this.layoutStore.setLayout({botPanel:this.layoutStore.botPanel===Qo.Quotes?Qo.None:Qo.Quotes}))),J(this,d).addHandler(2,(()=>this.layoutStore.setLayout({botPanel:this.layoutStore.botPanel===Qo.HistoryPositions?Qo.None:Qo.HistoryPositions}))),J(this,d).addHandler(3,(()=>{this.layoutStore.setLayout({botPanel:this.layoutStore.botPanel===Qo.Journal?Qo.None:Qo.Journal})})),J(this,d).addHandler(4,(()=>this.layoutStore.setLayout({tree:!this.layoutStore.tree})))}}u=new WeakMap,d=new WeakMap,h=new WeakMap,m=new WeakMap;var tr=Object.defineProperty,or=Object.getOwnPropertyDescriptor;class rr extends At{constructor(){super(),this._systemName=Bo.layout,this.symbols=!0,this.tradeCreate=null,this.tradeEdit=!1,this.botPanel=Qo.None,this.isSafari=!1,this.tree=!1,this.colors=!1,this.indicators=!1,this.auth=Zo.None,this.depthOfMarket=!1,this.botPanelSize=Jo.BOT,this.rightPanelSize=Jo.RIGHT,this.leftPanelSize=Jo.LEFT,this.hotkeys=!1,this.showLeftBar=!1,this.settingsPanel=!1,this.settingsScreen=Xo.Main,this.otpForm=!1,this.contacts=!1}setLayout(e){void 0!==e.symbols&&(this.symbols=e.symbols),void 0!==e.tradeCreate&&(this.tradeCreate=e.tradeCreate,"number"==typeof this.tradeCreate&&(this.tradeEdit=!1)),void 0!==e.tradeEdit&&(this.tradeEdit=e.tradeEdit??this.tradeEdit,this.tradeEdit&&(this.tradeCreate=null)),void 0!==e.botPanel&&(this.botPanel=e.botPanel),void 0!==e.tree&&(this.tree=e.tree),void 0!==e.colors&&(this.colors=e.colors),void 0!==e.indicators&&(this.indicators=e.indicators),void 0!==e.auth&&(this.auth=e.auth),void 0!==e.depthOfMarket&&(this.depthOfMarket=e.depthOfMarket),e.botPanelSize&&(this.botPanelSize=e.botPanelSize),e.rightPanelSize&&(this.rightPanelSize=e.rightPanelSize),e.leftPanelSize&&(this.leftPanelSize=e.leftPanelSize),void 0!==e.hotkeys&&(this.hotkeys=e.hotkeys),void 0!==e.showLeftBar&&(this.showLeftBar=e.showLeftBar),void 0!==e.settingsPanel&&(this.settingsPanel=e.settingsPanel),void 0!==e.settingsScreen&&(this.settingsScreen=e.settingsScreen),void 0!==e.otpForm&&(this.otpForm=e.otpForm),void 0!==e.contacts&&(this.contacts=e.contacts)}reset(e){this.symbols=!0,this.tradeCreate=null,this.tradeEdit=!1,this.botPanel=Qo.Quotes,this.tree=!1,this.indicators=!1,this.depthOfMarket=!1,this.botPanelSize=Jo.BOT,this.rightPanelSize=Jo.RIGHT,this.leftPanelSize=Jo.LEFT,this.showLeftBar=!1,this.settingsPanel=!1,this.settingsScreen=Xo.Main,this.otpForm=!1,this.setLayout(e)}}((e,t,o)=>{for(var r,n=or(t,o),i=e.length-1;i>=0;i--)(r=e[i])&&(n=r(t,o,n)||n);n&&tr(t,o,n)})([Tt],rr.prototype,"setLayout");class nr{constructor(e,t){this.layoutStore=new rr,this.layoutController=new er(e,this.layoutStore,t)}}function ir(e){const t=[];for(let o=0,r=e.length/2;o<r;o++)t.push(Number(`0x${e.substring(2*o,2*o+2)}`));return new Uint8Array(t).buffer}function sr(e){let t="";for(let o=0,r=e.length;o<r;o++)t+=e.charCodeAt(o).toString(16).padStart(2,"0");return t}function ar(e){const t=[];for(let o=0;o<e.length;o++)28===e.charCodeAt(o)?t.push("&"):23===e.charCodeAt(o)?t.push("!"):t.push(String.fromCharCode(e.charCodeAt(o)-1));return t.join("")}const lr={hexToBuffer:ir,toHex:sr,obfuscation:ar,trimZeros:function(e,t){let o=e,r=o.length,n=0;for(;r>0&&"0"===o.charAt(r-1)&&n<t;)r-=1,n+=1;return o=o.substring(0,r),r>0&&"."===o.charAt(r-1)&&(o=o.substring(0,r-1)),o}};function cr(e){const t=[],o=new DataView(e);for(let r=0;r<e.byteLength;r++){let e=o.getUint8(r).toString(16);e.length<2&&(e=["0",e].join("")),t.push(e)}return t.join("")}const ur=window.crypto||window.msCrypto,dr=ur&&(ur.subtle||ur.webkitSubtle)||null,hr="AES-CBC";function mr(){return!!dr}async function gr(e){if(!mr())throw new Error("Error initializing crypto api");const t={name:hr};return dr.importKey("raw",e,t,!0,["encrypt","decrypt"])}function pr(e,t){const o={name:hr,iv:new Uint8Array(16)};return dr.encrypt(o,t,e)}function fr(e,t){const o={name:hr,iv:new Uint8Array(16)};return dr.decrypt(o,t,e)}const wr={available:mr,initKey:gr,enc:pr,dec:fr},yr=function(){const{name:e}=window;if(e&&Boolean(e.split("").find((e=>isNaN(parseInt(e,10))))))return e.substring(0,12);let t=document.cookie;if(t&&(t=t.split(";").find((e=>0===e.indexOf("uniq="))),t&&(t=t.split("=")[1],t))){if(t=t.split("-"),1===t.length&&t[0].length>=12)return t[0].substring(0,12);if(t.length>1)return t[0]+t[1]}return""}()||"111";class br{constructor(e,t){Q(this,b),Q(this,g),Q(this,p),Q(this,f),Q(this,w),Q(this,y,(()=>{J(this,f).getAll().then((async e=>{const t=this.usersStore.getAllUsers(),o=[];t.forEach((t=>{if(t.line){const r=e.findIndex((({id:e})=>e===t.id));-1!==r&&e[r].line===t.line&&e[r].name===t.name&&e[r].currency===t.currency&&e[r].profit===t.profit&&e[r].balance===t.balance&&e[r].leverage===t.leverage&&e[r].type===t.type&&e[r].isHedgedMargin===t.isHedgedMargin||o.push(t)}else o.push(t)}));const r=await this.encryptUsers(o);(await J(this,f).getAll()).forEach((e=>{-1===r.findIndex((t=>e.id===t.id))&&J(this,f).remove(e.id)})),J(this,f).addMany(r)}))})),this.usersStore=t,Z(this,f,e)}async init(){if(J(this,w)&&(J(this,w).call(this),Z(this,w,void 0)),!J(this,p)){const e=ir(ar(":e4dd535gf:ddg7361613d6885fc6841ffd:4g:g498g8266dg:eff33886f738c")),t=await X(this,b,S).call(this,await gr(e));Z(this,g,await X(this,b,E).call(this,t)),Z(this,p,await X(this,b,P).call(this))}const e=await J(this,f).getAll(),t=[];e.forEach((e=>t.push(X(this,b,_).call(this,e))));const o=await Promise.all(t),r=[];o.forEach((e=>{e&&r.push(e)})),this.usersStore.reset(r),Z(this,w,this.usersStore.subscribe(J(this,y)));const n=Nt.getItem("ll");n&&this.usersStore.setCurrentUser(n)}setCurrentUser(e){this.usersStore.setCurrentUser(e),e?Nt.setItem("ll",e):Nt.removeItem("ll")}updateCurrentUser(e){const t=this.usersStore.getUserByLogin(e.login),o={};let r=!1;t&&(t.name!==e.name&&(o.name=e.name,r=!0),t.currency!==e.currency&&(o.currency=e.currency,r=!0),t.balance!==e.balance&&(o.balance=e.balance,r=!0),t.profit!==e.profit&&(o.profit=e.profit,r=!0),t.leverage!==e.marginLeverage&&(o.leverage=e.marginLeverage,r=!0),t.type!==e.type&&(o.type=e.type,r=!0),t.group!==e.group&&(o.group=e.group,r=!0),t.isHedgedMargin!==e.isHedgedMargin&&(o.isHedgedMargin=e.isHedgedMargin,r=!0)),r&&this.usersStore.updateCurrentUser(e.login,o)}async addUser(e){const t=await this.generateUserId(e.login,e.server);return this.usersStore.addUser({id:t,...e}),t}async encryptUsers(e){const t=[];e.forEach((e=>{t.push(this.encryptUser(e))}));const o=await Promise.all(t),r=[];return o.forEach((e=>{e&&r.push(e)})),r}generateUserId(e,t){return X(this,b,$).call(this,e,t,"8:8465cd9d9:138:49gb9gd:9b9:ed9:1c98178f5211e897b234818:df3:ebf2")}async encryptUser(e){const{login:t,server:o,password:r,name:n,currency:i,profit:s,balance:a,leverage:l,type:c,isHedgedMargin:u,savePassword:d=!0}=e,[h,m]=await Promise.all([this.generateUserId(t,o),X(this,b,$).call(this,t,o,d?r:"")]);if(h!==e.id)return null;const g={id:h,line:m,updatedAt:Date.now()};return n&&(g.name=n),i&&(g.currency=i),s&&(g.profit=s),a&&(g.balance=a),l&&(g.leverage=l),void 0!==c&&(g.type=c),void 0!==u&&(g.isHedgedMargin=u),g}}g=new WeakMap,p=new WeakMap,f=new WeakMap,w=new WeakMap,y=new WeakMap,b=new WeakSet,_=async function(e){let t=null;try{t=await X(this,b,k).call(this,e.line)}catch(s){t=null}if(!t)return null;const{login:o,server:r,password:n}=t;let i;try{i=await this.generateUserId(o,r)}catch(s){return null}return{id:i,line:e.id,login:o,server:r,password:n,name:e.name,currency:e.currency,profit:e.profit,balance:e.balance,leverage:e.leverage,type:e.type,isHedgedMargin:e.isHedgedMargin,savePassword:Boolean(n)}},C=async function(e){if(J(this,p)){const t=ir(sr(e)),o=await pr(t,J(this,p));if(o)return cr(o)}return""},v=async function(e){if(J(this,p)){const t=ir(e),o=await fr(t,J(this,p));if(o)return(new TextDecoder).decode(new Uint8Array(o))}return""},$=async function(e,t,o=""){if(J(this,g)){const r=ir(sr([o?await X(this,b,C).call(this,o):"",e,t].join("\t"))),n=await pr(r,J(this,g));if(n)return cr(n)}return""},k=async function(e){if(J(this,g)&&e.length&&e.length/16===Math.floor(e.length/16)){const t=ir(e),o=await fr(t,J(this,g));if(o){const e=(new TextDecoder).decode(new Uint8Array(o)).split("\t"),t=e[0]?await X(this,b,v).call(this,e[0]):"",r=Number(e[1]),n=e[2];return r<0?null:{login:r,password:t,server:n}}}return null},S=async function(e){return pr(ir([yr,ar("bfddfd:b:c5b5bdd976fbc::86dec9b:bfbc:685cgc7115389")].join("")),e)},E=async function(e){return gr(e)},P=async function(){return gr(ir(ar("987264ef98b:159fe89dd9bf986fc97ggcd7:27dg95dd28173b45f48b:d8e397")))};var _r=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,vr=(e,t,o,r)=>{for(var n,i=Cr(t,o),s=e.length-1;s>=0;s--)(n=e[s])&&(i=n(t,o,i)||i);return i&&_r(t,o,i),i};class $r extends At{constructor(){super(),Q(this,A),Q(this,T),this._systemName=Bo.users,Z(this,A,new Map)}setCurrentUser(e){e?J(this,A).has(e)&&Z(this,T,e):Z(this,T,void 0)}updateCurrentUser(e,t){const o=this.getUserByLogin(e);o&&(t.name&&(o.name=t.name),t.currency&&(o.currency=t.currency),t.balance&&(o.balance=t.balance),t.profit&&(o.profit=t.profit),t.leverage&&(o.leverage=t.leverage),void 0!==t.type&&(o.type=t.type),void 0!==t.isHedgedMargin&&(o.isHedgedMargin=t.isHedgedMargin))}getAllUsers(){return Array.from(J(this,A).values())}reset(e){return e&&(Z(this,A,new Map),e.forEach((e=>{J(this,A).set(e.id,e)}))),this}addUser(e){const t=J(this,A).get(e.id);return J(this,A).set(e.id,{...t??{},...e}),this}removeUser(e){J(this,A).delete(e)}getUserById(e){return J(this,A).get(e)||null}getUserByLogin(e){return[...J(this,A).values()].find((t=>Number(t.login)===Number(e)))}getCurrentUser(){return J(this,T)?this.getUserById(J(this,T)):null}}A=new WeakMap,T=new WeakMap,vr([Tt],$r.prototype,"setCurrentUser"),vr([Tt],$r.prototype,"updateCurrentUser"),vr([Tt],$r.prototype,"reset"),vr([Tt],$r.prototype,"addUser"),vr([Tt],$r.prototype,"removeUser");class kr{constructor(e){this.usersStore=new $r,this.usersController=new br(e,this.usersStore)}}function Sr(e){return e.objectStoreNames.contains(Bo.layout)&&e.deleteObjectStore(Bo.layout),e.createObjectStore(Bo.layout,{keyPath:Mo})}function Er(e){return e.objectStoreNames.contains(Bo.uiSettings)&&e.deleteObjectStore(Bo.uiSettings),e.createObjectStore(Bo.uiSettings,{keyPath:Mo})}function Pr(e){return e.objectStoreNames.contains(Bo.users)&&e.deleteObjectStore(Bo.users),e.createObjectStore(Bo.users,{keyPath:"id"})}let Ar=null,Tr=!1,xr=()=>{};const Dr=new Promise((e=>{xr=e}));let Or="";function jr(e){Or=e}class Lr{constructor(e,t=[]){this.name=e,this.keys=[...t],this.single=0===t.length}getAll(e,t){return Tr?new Promise((o=>{Dr.then((()=>{if(!Ar)throw new Error("Database not ready");const r=Ar.transaction(this.name,"readwrite").objectStore(this.name);let n,i;e&&t&&r.indexNames.contains(e)?(n=r.index(e),i=n.getAll([Or,t])):r.indexNames.contains("userId")?(n=r.index("userId"),i=n.getAll(Or)):i=r.getAll(),i.onsuccess=()=>o(i.result)}))})):Promise.resolve([])}get(e){return Tr?new Promise((t=>{Dr.then((()=>{if(!Ar)throw new Error("Database not ready");const o=Ar.transaction(this.name,"readwrite").objectStore(this.name).get(e);o.onsuccess=()=>t(o.result)}))})):Promise.resolve(void 0)}async add(e){if(!Tr)return;if(await Dr,!Ar)throw new Error("Database not ready");const t=Ar.transaction(this.name,"readwrite").objectStore(this.name);t.indexNames.contains("userId")?t.put({userId:Or,...e}):this.single?t.put({[Mo]:this.name,...e}):t.put(e)}async remove(e){if(!Tr)return;if(await Dr,!Ar)throw new Error("Database not ready");const t=Ar.transaction(this.name,"readwrite").objectStore(this.name);t.indexNames.contains("userId")?t.delete([Or,e]):t.delete(e)}async removeByUserId(e){if(!Tr)return;if(await Dr,!Ar)throw new Error("Database not ready");const t=Ar.transaction(this.name,"readwrite").objectStore(this.name),o=t.index("userId").getAllKeys(e);o.onsuccess=()=>{o.result.forEach((e=>{t.delete(e)}))}}async addMany(e){if(!Tr)return;if(await Dr,!Ar)throw new Error("Database not ready");const t=Ar.transaction(this.name,"readwrite").objectStore(this.name);t.indexNames.contains("userId")?e.forEach((e=>{const o={userId:Or,...e};t.put(o)})):e.forEach((e=>t.put(e)))}}const Ir=[new Lr(Bo.layout,[]),new Lr(Bo.uiSettings,[]),new Lr(Bo.users,["id"]),new Lr(Bo.objects,["userId","uid","symbol"]),new Lr(Bo.indicators,["userId","uid","symbol"]),new Lr(Bo.configs,["userId","symbol"]),new Lr(Bo.tradeBars,["userId","id"]),new Lr(Bo.marks,["userId"]),new Lr(Bo.watchlist,["userId"]),new Lr(Bo.userSettings,["userId"]),new Lr(Bo.charts)],Vr={layout:Ir[0],ui_settings:Ir[1],users:Ir[2],objects:Ir[3],indicators:Ir[4],configs:Ir[5],trade_bars:Ir[6],marks:Ir[7],watchlist:Ir[8],user_settings:Ir[9],charts:Ir[10]};function Rr(e){try{if(e instanceof Error){const t=JSON.parse(e.message);return Array.isArray(t)&&2===t.length&&t.every((e=>"number"==typeof e))?[t[1],t[0]]:[e.message]}}catch{return[null]}return[null]}class Mr{constructor(e,t,o){Q(this,j),Q(this,x),Q(this,D),Q(this,O,(e=>{const[t,o]=Rr(e);"number"==typeof t&&(1===t?this.journalStore.err(3,"websocket returned internal error.",!0):2===t?this.journalStore.err(3,"websocket returned error: trade server is not available.",!0):3!==t&&28!==o||this.journalStore.err(3,"websocket returned error: authorization error on the trading server.",!0))})),Q(this,I,(e=>{const t=X(this,j,L).call(this);e.isInvestor?this.journalStore.log(6,`${t}trading has been disabled - investor mode`):e.isTradeDisabled||e.isReadOnly||(e.isHedgedMargin?this.journalStore.log(6,`${t}trading has been enabled - hedging mode`):this.journalStore.log(6,`${t}trading has been enabled - netting mode`))})),Q(this,V,(e=>{e&&this.journalStore.log(6,e)})),Q(this,R,(e=>{var t;this.journalStore.log(3,(null==(t=e.event.event)?void 0:t.wasClean)?"websocket connection was closed by the server-side (to create demo account)":"websocket connection was suddenly closed (to create demo account)",!0)})),Q(this,M,(()=>{this.journalStore.log(3,`${X(this,j,L).call(this)}websocket connection is successfully established`,!0)})),Q(this,B,(e=>{this.journalStore.log(3,`${X(this,j,L).call(this)}token for authorization received (server: ${e})`,!0)})),Q(this,H,(e=>{this.journalStore.log(3,`${X(this,j,L).call(this)}authorized on ${e}`)})),this.journalStore=e,this.usersController=o,Z(this,D,t)}async connectApi(e){this.disconnectApi(),Z(this,x,e),J(this,x).on(11,J(this,R)),J(this,x).on(6,J(this,V)),J(this,x).on(10,J(this,M)),J(this,x).on(9,J(this,B)),J(this,x).on(12,J(this,H)),J(this,x).on(13,J(this,I)),J(this,x).on(15,J(this,O));const t=J(this,D),o=t.servers&&t.servers.map((e=>e.server)).filter(Boolean);this.journalStore.log(2,["Initializing start (",`login: ${t.login||"not specified"}`,`, trade_server: ${t.tradeServerDemo||"not specified"}`,`, servers: ${o?o.join(", "):"not specified"})`].join(""),!0),this.journalStore.log(2,(()=>{let e="Initializing environment was successful (";const t=(new Date).toString();return e+=`Timezone: ${t.substring(t.indexOf("GMT"))}`,e+=`, cookie: ${String(Boolean(document.cookie))}`,e+=`, webGL: ${String(function(){const e=document.createElement("canvas");if(e){const t=e.getContext("webgl");if(null==t?void 0:t.createProgram)return!0}return!1}())}`,e+=`, user-Agent: ${navigator.userAgent}`,e+=")",e})(),!0);const r=gr(ir(ar("13ef13b2b76dd8:5795gdcfb2fdc1ge85bf768f54773d22fff996e3ge75g5:75")));r.then((()=>this.journalStore.log(2,"Initializing crypto api was successful",!0))).catch((()=>this.journalStore.err(2,"Initializing crypto api failed",!0)));const n=Dr;n.then((()=>this.journalStore.log(2,"Initializing indexedDB was successful",!0))).catch((()=>this.journalStore.err(2,"Initializing indexedDB was successful",!0))),await Promise.all([r,n]),this.journalStore.log(2,"MetaTrader Web Trader started")}err(e,t,o=!1){this.journalStore.err(e,t,o)}warn(e,t,o=!1){this.journalStore.warn(e,t,o)}log(e,t,o=!1){this.journalStore.log(e,t,o)}attn(e,t,o=!1){this.journalStore.attn(e,t,o)}disconnectApi(){J(this,x)&&(J(this,x).off(11,J(this,R)),J(this,x).off(6,J(this,V)),J(this,x).off(10,J(this,M)),J(this,x).off(9,J(this,B)),J(this,x).off(12,J(this,H)),J(this,x).off(13,J(this,I)),J(this,x).off(15,J(this,O)))}}x=new WeakMap,D=new WeakMap,O=new WeakMap,j=new WeakSet,L=function(){const e=this.usersController.usersStore.getCurrentUser();return(null==e?void 0:e.login)?`${null==e?void 0:e.login}: `:""},I=new WeakMap,V=new WeakMap,R=new WeakMap,M=new WeakMap,B=new WeakMap,H=new WeakMap;var Br=Object.defineProperty,Hr=Object.getOwnPropertyDescriptor,zr=(e,t,o,r)=>{for(var n,i=Hr(t,o),s=e.length-1;s>=0;s--)(n=e[s])&&(i=n(t,o,i)||i);return i&&Br(t,o,i),i};class Nr extends At{constructor(){super(),Q(this,z),this._systemName="journal",Z(this,z,[]),this.index={code:{},type:{}},this.add=this.add.bind(this)}getList(e=!1){return e?[...J(this,z)]:J(this,z).filter((e=>!e.debug||2===e.code))}add(e){var t,o;J(this,z).push(e),this.index.code[e.code]=this.index.code[e.code]||[],null==(t=this.index.code[e.code])||t.push(e),this.index.type[e.type]=this.index.type[e.type]||[],null==(o=this.index.type[e.type])||o.push(e)}log(e,t,o=!1){this.add({time:Date.now(),code:0,message:t,type:e,debug:o})}warn(e,t,o=!1){this.add({time:Date.now(),code:1,message:t,type:e,debug:o})}err(e,t,o=!1){this.add({time:Date.now(),code:2,message:t,type:e,debug:o})}attn(e,t,o=!1){this.add({time:Date.now(),code:3,message:t,type:e,debug:o})}clear(){Z(this,z,[]),this.index={code:{},type:{}}}}z=new WeakMap,zr([Tt],Nr.prototype,"add"),zr([Tt],Nr.prototype,"clear");class Ur{constructor(e,t){this.journalStore=new Nr,this.journalController=new Mr(this.journalStore,e,t)}}function Fr(e){const{keyCode:t,ctrl:o=!1,alt:r=!1,shift:n=!1,meta:i=!1}=e;return[t,o,r,n,i].join("-")}function qr(e){switch(e){case 0:return window.tr(window.lang.trade.hotkeys.tradeForm);case 1:return window.tr(window.lang.trade.hotkeys.tradePanel);case 2:return window.tr(window.lang.trade.hotkeys.historyPanel);case 3:return window.tr(window.lang.trade.hotkeys.journalPanel);case 4:return window.tr(window.lang.ui.hotkeys.objectTreePanel);case 5:return window.tr(window.lang.ui.hotkeys.indicators);case 6:return window.tr(window.lang.ui.hotkeys.depthOfMarket);case 7:return window.tr(window.lang.trade.hotkeys.quickTrade);case 8:return window.tr(window.lang.trade.hotkeys.marketWatch);case 9:return window.tr(window.lang.chart.hotkeys.chartTypeBar);case 10:return window.tr(window.lang.chart.hotkeys.chartTypeCandle);case 11:return window.tr(window.lang.chart.hotkeys.chartTypeArea);case 12:return window.tr(window.lang.chart.hotkeys.chartTypeLine);case 13:return window.tr(window.lang.chart.hotkeys.realVolumes);case 14:return window.tr(window.lang.chart.hotkeys.tickVolumes);case 15:return window.tr(window.lang.chart.hotkeys.trendline);case 16:return window.tr(window.lang.chart.hotkeys.horizontalLine);case 17:return window.tr(window.lang.chart.hotkeys.verticalLine);case 18:return window.tr(window.lang.chart.hotkeys.infoLine);case 19:return window.tr(window.lang.chart.hotkeys.arrowLine);case 20:return window.tr(window.lang.chart.hotkeys.rayLine);case 21:return window.tr(window.lang.chart.hotkeys.extendedLine);case 22:return window.tr(window.lang.chart.hotkeys.crossLine);case 23:return window.tr(window.lang.ui.hotkeys.scrollRight);case 24:return window.tr(window.lang.ui.hotkeys.scrollLeft);case 27:return window.tr(window.lang.ui.hotkeys.scrollToStart);case 28:return window.tr(window.lang.ui.hotkeys.scrollToEnd);case 29:return window.tr(window.lang.ui.hotkeys.resetChartView);case 30:return window.tr(window.lang.ui.hotkeys.zoomOut);case 31:return window.tr(window.lang.ui.hotkeys.zoomIn);case 32:return window.tr(window.lang.ui.hotkeys.fullScreen);case 33:return window.tr(window.lang.ui.hotkeys.screenshot);case 34:return window.tr(window.lang.ui.hotkeys.escape);case 38:return window.tr(window.lang.chart.hotkeys.crosshairRuler);default:return""}}const Wr={none:"none",Mouse3:"Mouse Wheel Click",KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Digit0:"0",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Equal:"+",Minus:"-",Numpad0:"Numpad 0",Numpad1:"Numpad 1",Numpad2:"Numpad 2",Numpad3:"Numpad 3",Numpad4:"Numpad 4",Numpad5:"Numpad 5",Numpad6:"Numpad 6",Numpad7:"Numpad 7",Numpad8:"Numpad 8",Numpad9:"Numpad 9",NumpadMultiply:"Numpad *",NumpadAdd:"Numpad +",NumpadSubtract:"Numpad —",NumpadDecimal:"Numpad .",NumpadDivide:"Numpad /",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Backspace:"Backspace",Tab:"Tab",Enter:"Enter",CapsLock:"CapsLock",Escape:"Escape",Space:"Space",PageUp:"PageUp",PageDown:"PageDown",End:"End",Home:"Home",ArrowLeft:"←",ArrowUp:"↑",ArrowRight:"→",ArrowDown:"↓",Insert:"Insert",Delete:"Delete",NumLock:"NumLock",ScrollLock:"ScrollLock"};class Kr{constructor(e,t){Q(this,N,(e=>{const t=Fr({keyCode:e.code,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey,meta:e.metaKey});this.hotkeysStore.handlersByHash.has(t)&&e.target===document.body&&(e.preventDefault(),e.stopPropagation(),this.hotkeysStore.handlersByHash.get(t)())})),this.hotkeysStore=e,this.hotkeysStore.init(t),window.removeEventListener("keydown",J(this,N)),window.addEventListener("keydown",J(this,N))}destroy(){window.removeEventListener("keydown",J(this,N)),this.hotkeysStore.clear()}addHandler(e,t){this.hotkeysStore.addHandler(e,t)}getTitle(e){if(void 0===e)return"";const t=this.hotkeysStore.hotkeys[e];if(!t)return"";let o="";const r=t[0];return(null==r?void 0:r.ctrl)&&(o+="Ctrl + "),(null==r?void 0:r.alt)&&(o+=(be()?"⌥":"Alt")+" + "),(null==r?void 0:r.shift)&&(o+="Shift + "),(null==r?void 0:r.meta)&&(o+=(be()?"⌘":"WIN")+" + "),o+=Wr[r.keyCode],o}}N=new WeakMap;class Yr extends At{constructor(){super(),this._systemName="hotkeys",this.hotkeys={},this.handlersByHash=new Map}init(e){this.handlersByHash.clear(),this.hotkeys=e}addHandler(e,t){const o=this.hotkeys[e];o&&o.forEach((e=>{const o=Fr(e);this.handlersByHash.set(o,t)}))}clear(){this.handlersByHash.clear()}}class Gr{constructor(e){this.hotkeysStore=new Yr,this.hotkeysController=new Kr(this.hotkeysStore,e)}}const Jr={34:[{keyCode:"Escape"}],0:[{keyCode:"F9"}],5:[{keyCode:"KeyI",ctrl:!0}],6:[{keyCode:"KeyB",alt:!0}],4:[{keyCode:"KeyB",ctrl:!0}],7:[{keyCode:"KeyT",alt:!0}],8:[{keyCode:"KeyM",ctrl:!0}],1:[{keyCode:"KeyT",ctrl:!0,alt:!0}],2:[{keyCode:"KeyH",ctrl:!0,alt:!0}],3:[{keyCode:"KeyJ",ctrl:!0,alt:!0}],9:[{keyCode:"Digit1",alt:!0}],10:[{keyCode:"Digit2",alt:!0}],11:[{keyCode:"Digit3",alt:!0}],12:[{keyCode:"Digit4",alt:!0}],13:[{keyCode:"KeyK",ctrl:!0}],14:[{keyCode:"KeyL",ctrl:!0}],15:[{keyCode:"KeyL",alt:!0}],16:[{keyCode:"KeyH",alt:!0}],17:[{keyCode:"KeyV",alt:!0}],18:[{keyCode:"KeyI",alt:!0}],19:[{keyCode:"KeyA",alt:!0}],20:[{keyCode:"KeyR",alt:!0}],21:[{keyCode:"KeyE",alt:!0}],22:[{keyCode:"KeyC",alt:!0}],38:[{keyCode:"Mouse3",mouse:!0}],23:[{keyCode:"ArrowRight"}],24:[{keyCode:"ArrowLeft"}],25:[{keyCode:"PageDown"},{keyCode:"ArrowRight",alt:!0}],26:[{keyCode:"PageUp"},{keyCode:"ArrowLeft",alt:!0}],27:[{keyCode:"Home"},{keyCode:"ArrowLeft",alt:!0,shift:!0}],28:[{keyCode:"End"},{keyCode:"ArrowRight",alt:!0,shift:!0}],29:[{keyCode:"KeyR",alt:!0,shift:!0}],31:[{keyCode:"Equal"},{keyCode:"NumpadAdd"},{keyCode:"Equal",shift:!0}],30:[{keyCode:"Minus"},{keyCode:"NumpadSubtract"},{keyCode:"Minus",shift:!0}],32:[{keyCode:"F11"}],33:[{keyCode:"KeyS",ctrl:!0}],35:[{keyCode:"KeyZ",ctrl:!0}],36:[{keyCode:"KeyZ",shift:!0,ctrl:!0}],37:[{keyCode:"KeyC",ctrl:!0}]};U=new WeakMap;let Qr=class e{constructor(e,t,o,r){Q(this,U),Z(this,U,r),this.hotkeys=new Gr(Jr),this.theme=new to(e,t,o),this.users=new kr(Vr.users),this.layout=new nr(Vr.layout,this.hotkeys.hotkeysController),this.uiSettings=new Go(Vr.ui_settings,this.hotkeys.hotkeysController),this.journal=new Ur(J(this,U),this.users.usersController)}async init(){var e;await async function(){const e=window.self.indexedDB.open("database",14);return e.onerror=e=>{Tr=!1,xr()},e.onsuccess=()=>{Tr=!0,Ar=e.result,xr()},e.onupgradeneeded=t=>{Tr=!0,function(e,t,o){const r=e.result,{transaction:n}=e;t.oldVersion<10?function(e,t){t.forEach((t=>{if(e.objectStoreNames.contains(t.name)&&e.deleteObjectStore(t.name),t.keys.includes("userId")){const o=t.keys.indexOf("userId"),{keys:r}=t;-1!==o&&r.splice(o,1);const n=e.createObjectStore(t.name,{keyPath:["userId",r[0]].filter(Boolean)});n.createIndex("userId","userId",{unique:!1}),r.forEach((e=>{n.createIndex(e,["userId",e],{unique:!1})}))}else if(t.single)e.createObjectStore(t.name,{keyPath:Mo});else{const o=e.createObjectStore(t.name,{keyPath:t.keys[0]});t.keys.length>1&&t.keys.forEach((e=>{o.createIndex(e,e,{unique:!1})}))}}))}(r,o):(t.oldVersion<11&&function(e){const t=e.createObjectStore(Bo.indicatorsByOrder,{keyPath:["userId","symbol"]});t.createIndex("userId","userId",{unique:!1}),t.createIndex("symbol",["userId","symbol"],{unique:!1})}(r),t.oldVersion<12&&function(e){e.createObjectStore(Bo.marks,{keyPath:["userId"]}).createIndex("userId","userId",{unique:!1})}(r),t.oldVersion<13&&function(e,t){if(function(e){e.createObjectStore(Bo.userSettings,{keyPath:["userId"]}).createIndex("userId","userId",{unique:!1})}(e),!t)return Sr(e),Er(e),void Pr(e);!function(e,t){const o=t.objectStore(Bo.layout).getAll();o.onsuccess=()=>{const t=o.result[0],r=Sr(e);delete t.userId,r.add({[Mo]:Bo.layout,...t})},o.onerror=()=>Sr(e)}(e,t),function(e,t){const o=t.objectStore(Bo.uiSettings).getAll();o.onsuccess=()=>{const t=o.result[0],r=Er(e);delete t.userId,r.add({[Mo]:Bo.uiSettings,...t})},o.onerror=()=>Er(e)}(e,t),function(e,t){const o=t.objectStore(Bo.users).getAll();o.onsuccess=()=>{const t=o.result,r=Pr(e);t.forEach((e=>{const t=e.userId;delete e.userId,r.add({...e,id:t})}))},o.onerror=()=>Pr(e)}(e,t)}(r,n),t.oldVersion<14&&function(e,t){!function(e,t){const o=function(e){const t=e.createObjectStore(Bo.charts,{keyPath:["userId","symbol"]});return t.createIndex("userId","userId",{unique:!1}),t.createIndex("symbol",["userId","symbol"],{unique:!1}),t}(e);if(t){const e=t.objectStore(Bo.configs).getAll();e.onsuccess=()=>{e.result.forEach((e=>{if(e.userId&&e.symbol){let t=0;"realVolume"===e.volume?t=2:"tickVolume"===e.volume&&(t=1),o.put({userId:e.userId,symbol:e.symbol,volumeType:t,chartType:e.type??1,xScale:e.xScale??.06,hidden:Boolean(e.hidden),magnet:Boolean(e.magnet),locked:Boolean(e.locked)})}}))}}}(e,t)}(r,n))}(e,t,Ir)},Dr}(),this.theme.themeController.init(),await this.layout.layoutController.init(null==(e=J(this,U))?void 0:e.startupMode),await this.uiSettings.uiSettingsController.init(),await this.users.usersController.init(),this.addPostMessageListenter()}addPostMessageListenter(){window.self!==window.top&&window.addEventListener("message",(e=>{if(!e.data||"mt5_update"!==e.data.type)return;const t=e.data["theme-mode"];void 0!==t&&(1===t&&this.theme.themeController.setMode(1),0===t&&this.theme.themeController.setMode(0))}))}static async init(t){const{theme:o,mode:r}=to.ThemeController.init(),n=await to.ThemeController.load(r,o);return new e(o,r,n,t)}};function Zr(e,t,o){const r=e.slice();return r[19]=t[o],r}function Xr(e){let t,o,r,n,i,s,a,l,c,u,d,h,m,g,p,f,w,y,b,_,C,v,$,k,S,E,P,A=Te(Object.keys(e[6]).sort()),T=[];for(let x=0;x<A.length;x+=1)T[x]=en(Zr(e,A,x));return{c(){t=ke("div"),o=ke("input"),r=fe(),n=ke("label"),i=ke("input"),s=xe("\r\n                    Show Tags"),a=fe(),l=ke("label"),c=ke("input"),u=xe("\r\n                    Show Date"),d=fe(),h=ke("label"),m=ke("input"),g=xe("\r\n                    Show Secondary"),p=fe(),f=ke("label"),w=ke("input"),y=xe("\r\n                    Show Repeat"),b=fe(),_=ke("div"),C=ke("button"),C.textContent="Select All",v=fe(),$=ke("button"),$.textContent="Clear All",k=fe(),S=ke("div");for(let e=0;e<T.length;e+=1)T[e].c();Se(o,"class","filter svelte-tfpq1c"),Se(i,"type","checkbox"),Se(i,"class","svelte-tfpq1c"),Se(c,"type","checkbox"),Se(c,"class","svelte-tfpq1c"),Se(m,"type","checkbox"),Se(m,"class","svelte-tfpq1c"),Se(w,"type","checkbox"),Se(w,"class","svelte-tfpq1c"),Se(t,"class","config svelte-tfpq1c"),Se(_,"class","controls svelte-tfpq1c"),Se(S,"class","tags svelte-tfpq1c")},m(A,x){ne(A,t,x),Pe(t,o),De(o,e[5]),Pe(t,r),Pe(t,n),Pe(n,i),i.checked=e[1],Pe(n,s),Pe(t,a),Pe(t,l),Pe(l,c),c.checked=e[2],Pe(l,u),Pe(t,d),Pe(t,h),Pe(h,m),m.checked=e[3],Pe(h,g),Pe(t,p),Pe(t,f),Pe(f,w),w.checked=e[4],Pe(f,y),ne(A,b,x),ne(A,_,x),Pe(_,C),Pe(_,v),Pe(_,$),ne(A,k,x),ne(A,S,x);for(let e=0;e<T.length;e+=1)T[e]&&T[e].m(S,null);E||(P=[Ae(o,"input",e[12]),Ae(i,"change",e[13]),Ae(c,"change",e[14]),Ae(m,"change",e[15]),Ae(w,"change",e[16]),Ae(C,"click",e[9]),Ae($,"click",e[10])],E=!0)},p(e,t){if(32&t&&o.value!==e[5]&&De(o,e[5]),2&t&&(i.checked=e[1]),4&t&&(c.checked=e[2]),8&t&&(m.checked=e[3]),16&t&&(w.checked=e[4]),321&t){let o;for(A=Te(Object.keys(e[6]).sort()),o=0;o<A.length;o+=1){const r=Zr(e,A,o);T[o]?T[o].p(r,t):(T[o]=en(r),T[o].c(),T[o].m(S,null))}for(;o<T.length;o+=1)T[o].d(1);T.length=A.length}},d(e){e&&(ce(t),ce(b),ce(_),ce(k),ce(S)),Oe(T,e),E=!1,je(P)}}}function en(e){let t,o,r,n,i,s=e[19]+"";function a(){return e[17](e[19])}return{c(){t=ke("div"),o=xe(s),Se(t,"class","tag svelte-tfpq1c"),Se(t,"style",r=e[8](e[19]))},m(e,r){ne(e,t,r),Pe(t,o),n||(i=Ae(t,"click",a),n=!0)},p(n,i){e=n,64&i&&s!==(s=e[19]+"")&&Le(o,s),64&i&&r!==(r=e[8](e[19]))&&Se(t,"style",r)},d(e){e&&ce(t),n=!1,i()}}}function tn(e){let t,o,r,n,i,s,a=e[7]&&Xr(e);return{c(){t=ke("div"),o=ke("div"),r=ke("div"),r.textContent="l",n=fe(),a&&a.c(),Se(r,"class","button svelte-tfpq1c"),Se(o,"class","buttons svelte-tfpq1c"),Se(t,"class","debug svelte-tfpq1c"),Ee(t,"hidden",!e[7])},m(l,c){ne(l,t,c),Pe(t,o),Pe(o,r),Pe(t,n),a&&a.m(t,null),i||(s=Ae(r,"click",e[11]),i=!0)},p(e,o){e[7]?a?a.p(e,o):(a=Xr(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),128&o&&Ee(t,"hidden",!e[7])},d(e){e&&ce(t),a&&a.d(),i=!1,s()}}}function on(e){let t,o;return t=new _e({props:{$$slots:{default:[tn]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,[o]){const r={};4194558&o&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function rn(e,t,o){const r=Nt.getItem("journal")||"10";let n=!1,i="1"===r[0],s="1"===r[1],a="1"===r[2],l="1"===r[3],c=Nt.getItem("f")??"";function u(e){const t=Gt.indexOf(e);!0===Jt[e]?-1!==t&&(Gt.splice(t,1),o(6,Jt[e]=!1,Jt)):(-1===t&&Gt.push(e),o(6,Jt[e]=!0,Jt)),Qt()}return e.$$.update=()=>{62&e.$$.dirty&&(Ft=i,qt=s,Wt=a,Kt=l,Yt=c,null==localStorage||localStorage.setItem("journal",`${String(Number(Ft))}${String(Number(qt))}${String(Number(Wt))}${String(Number(Kt))}`),null==localStorage||localStorage.setItem("f",String(Yt.toLowerCase())))},[u,i,s,a,l,c,Jt,n,function(e){const t=function(e,t=!1){let o=0;if(0===e.length)return[0,0,0,1];for(let n=0;n<e.length;n++)o=e.charCodeAt(n)+((o<<5)-o),o&=o;const r=[0,0,0,t?.4:1];for(let n=0;n<3;n++){const e=o>>8*n&255;r[n]=e}return r}(e,!1===Jt[e]),o=(r=t,Math.round((299*r[0]+587*r[1]+114*r[2])/1e3)>125?"black":"white");var r;return`background-color: rgba(${t.join(",")}); color: ${o};`},function(){Gt.splice(0,Gt.length),Object.keys(Jt).forEach((e=>{o(6,Jt[e]=!0,Jt),Gt.push(e)})),Qt()},function(){Gt.splice(0,Gt.length),Object.keys(Jt).forEach((e=>{o(6,Jt[e]=!1,Jt)})),Qt()},()=>{o(7,n=!n)},function(){c=this.value,o(5,c)},function(){i=this.checked,o(1,i)},function(){s=this.checked,o(2,s)},function(){a=this.checked,o(3,a)},function(){l=this.checked,o(4,l)},e=>u(e)]}class nn extends ee{constructor(e){super(),te(this,e,rn,on,oe,{toggleTag:0})}get toggleTag(){return this.$$.ctx[0]}}let sn=null,an=!1;const ln=function(){if(an||(an=!0,sn||(sn=document.createElement("div"),sn.className="GoogleAd Advertisment BannerAd",sn.id="yandex_ad",sn.style.width="1px",sn.style.height="1px",sn.style.visibility="hidden",sn.style.position="absolute",document.body.appendChild(sn))),!sn)return!1;const e=0===sn.offsetHeight;try{document.body.removeChild(sn)}catch(t){}return sn=null,e}();function cn(e,t,o){let r,n="error";switch(e){case 1:r=" Internal Error";break;case 2:r=" Server is not available";break;case 3:r=" Invalid account or password";break;case 4:r=" ";break;case 5:5===t?r=" Invalid account OTP":(r=" Enter account OTP",n="warning");break;case 6:r=" Enable 2FA/TOTP",n="warning";break;case 201:r=" Invalid account OTP";break;case 7:r=" Invalid e-mail";break;case 8:r=" Invalid phone";break;case 9:r=" Authorization using SSL certificates is not supported";break;case 100:r=" No connection";break;case 104:r=ln?"No connection, try to disable AdBlockers":"Connection closed or not established";break;case 408:r=" Server is not responding, please try again.";break;case 1031:r=" Invalid verification code";break;case 2e3:r=` Use ${o??8} or more characters.`;break;case 2001:r=" Password must include lower- and uppercase letters, numbers, and special symbols.";break;case 2005:r=" Current password is incorrect.";break;case 2006:r=" Passwords do not match.";break;case 2007:r=" Please enter the password.";break;case 2008:r=" Please enter the current password.";break;default:r=`Error (${e})`}return{message:r,type:n,code:e}}function un(e){let t,o;const r=e[2].default,n=he(r,e,e[1],null);return{c(){t=ke("div"),n&&n.c(),Se(t,"class","error svelte-wrajc9"),Ee(t,"warning",e[0])},m(e,r){ne(e,t,r),n&&n.m(t,null),o=!0},p(e,[i]){n&&n.p&&(!o||2&i)&&me(n,r,e,e[1],o?pe(r,e[1],i,null):ge(e[1]),null),(!o||1&i)&&Ee(t,"warning",e[0])},i(e){o||(le(n,e),o=!0)},o(e){se(n,e),o=!1},d(e){e&&ce(t),n&&n.d(e)}}}function dn(e,t,o){let{$$slots:r={},$$scope:n}=t,{warning:i=!1}=t;return e.$$set=e=>{"warning"in e&&o(0,i=e.warning),"$$scope"in e&&o(1,n=e.$$scope)},[i,n,r]}Symbol.toStringTag;let hn=class extends ee{constructor(e){super(),te(this,e,dn,un,oe,{warning:0})}};function mn(e){let t,o,r,n;return o=new hn({props:{warning:e[1],$$slots:{default:[gn]},$$scope:{ctx:e}}}),{c(){t=ke("div"),Ce(o.$$.fragment),Se(t,"class","error svelte-1ontt5q")},m(e,r){ne(e,t,r),ve(o,t,null),n=!0},p(e,t){const r={};2&t&&(r.warning=e[1]),5&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){n||(le(o.$$.fragment,e),Ie((()=>{n&&(r||(r=Ve(t,Re,{duration:250},!0)),r.run(1))})),n=!0)},o(e){se(o.$$.fragment,e),r||(r=Ve(t,Re,{duration:250},!1)),r.run(0),n=!1},d(e){e&&ce(t),$e(o),e&&r&&r.end()}}}function gn(e){let t;return{c(){t=xe(e[0])},m(e,o){ne(e,t,o)},p(e,o){1&o&&Le(t,e[0])},d(e){e&&ce(t)}}}function pn(e){let t,o,r=e[0]&&mn(e);return{c(){r&&r.c(),t=re()},m(e,n){r&&r.m(e,n),ne(e,t,n),o=!0},p(e,[o]){e[0]?r?(r.p(e,o),1&o&&le(r,1)):(r=mn(e),r.c(),le(r,1),r.m(t.parentNode,t)):r&&(ie(),se(r,1,1,(()=>{r=null})),ae())},i(e){o||(le(r),o=!0)},o(e){se(r),o=!1},d(e){e&&ce(t),r&&r.d(e)}}}function fn(e,t,o){let{message:r=""}=t,{warning:n=!1}=t;return e.$$set=e=>{"message"in e&&o(0,r=e.message),"warning"in e&&o(1,n=e.warning)},[r,n]}class wn extends ee{constructor(e){super(),te(this,e,fn,pn,oe,{message:0,warning:1})}}const yn="account-real-80b0767684c0",bn="account-demo-f2861681120e",_n="connect-ed42f7221b2c",Cn="copy-18f891beaba2";function vn(e){let t,o;return t=new He({props:{name:Cn}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p:ue,i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function $n(e){let t,o,r,n,i;return n=new Me({props:{$$slots:{default:[vn]},$$scope:{ctx:e}}}),e[4](n),n.$on("copy",e[1]),{c(){t=ke("div"),o=ke("div"),o.textContent="Please keep your username and passwords in a safe place",r=fe(),Ce(n.$$.fragment),Se(o,"class","text svelte-c2557r"),Se(t,"class","copy svelte-c2557r")},m(e,s){ne(e,t,s),Pe(t,o),Pe(t,r),ve(n,t,null),i=!0},p(e,[t]){const o={};32&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){i||(le(n.$$.fragment,e),i=!0)},o(e){se(n.$$.fragment,e),i=!1},d(o){o&&ce(t),e[4](null),$e(n)}}}function kn(e,t,o){let r,{user:n}=t,{investor:i}=t;return e.$$set=e=>{"user"in e&&o(2,n=e.user),"investor"in e&&o(3,i=e.investor)},[r,function(){if(!n)return;let e="";const{name:t,server:o,group:s,currency:a,login:l,password:c}=n;e+=t?`${window.tr(window.lang.login.form.name.title)}: ${t}`:"",e+=`\n${window.tr(window.lang.login.form.server)}: ${o}`,e+=void 0!==s&&a?`\n${window.tr(window.lang.login.form.type)}: ${s}`:"",e+=`\n${window.tr(window.lang.login.form.login)}: ${l}`,e+=`\n${window.tr(window.lang.login.form.password)}: ${c}`,e+=i?`\n${window.tr(window.lang.login.form.investor)}: ${i}`:"",r.copy(e)},n,i,function(e){Be[e?"unshift":"push"]((()=>{r=e,o(0,r)}))}]}class Sn extends ee{constructor(e){super(),te(this,e,kn,$n,oe,{user:2,investor:3})}}function En(e){let t,o,r,n,i,s,a,l,c,u,d,h=!1;s=new He({props:{name:e[4]}});const m=e[6].default,g=he(m,e,e[5],null);return c=ze(e[11][0]),{c(){t=ke("label"),o=ke("input"),r=fe(),n=ke("div"),i=ke("div"),Ce(s.$$.fragment),a=fe(),g&&g.c(),o.disabled=e[2],Se(o,"name","type"),Se(o,"type","radio"),o.__value=e[1],De(o,o.__value),Se(o,"class","svelte-1p0jxjr"),Se(i,"class","icon svelte-1p0jxjr"),Se(n,"class","label svelte-1p0jxjr"),Ee(n,"selected",e[3]),Se(t,"class","link svelte-1p0jxjr"),Ee(t,"active",e[0]===e[1]),Ee(t,"disabled",e[2]),c.p(o)},m(c,h){ne(c,t,h),Pe(t,o),o.checked=o.__value===e[0],Pe(t,r),Pe(t,n),Pe(n,i),ve(s,i,null),Pe(n,a),g&&g.m(n,null),l=!0,u||(d=[Ae(o,"change",e[10]),Ae(o,"change",e[9]),Ae(t,"dblclick",e[7]),Ae(t,"mouseenter",e[8])],u=!0)},p(e,[r]){(!l||4&r)&&(o.disabled=e[2]),(!l||2&r)&&(o.__value=e[1],De(o,o.__value),h=!0),(h||1&r)&&(o.checked=o.__value===e[0]);const i={};16&r&&(i.name=e[4]),s.$set(i),g&&g.p&&(!l||32&r)&&me(g,m,e,e[5],l?pe(m,e[5],r,null):ge(e[5]),null),(!l||8&r)&&Ee(n,"selected",e[3]),(!l||3&r)&&Ee(t,"active",e[0]===e[1]),(!l||4&r)&&Ee(t,"disabled",e[2])},i(e){l||(le(s.$$.fragment,e),le(g,e),l=!0)},o(e){se(s.$$.fragment,e),se(g,e),l=!1},d(e){e&&ce(t),$e(s),g&&g.d(e),c.r(),u=!1,je(d)}}}function Pn(e,t,o){let{$$slots:r={},$$scope:n}=t,{value:i}=t,{disabled:s=!1}=t,{group:a}=t,{selected:l=!1}=t,{icon:c}=t;return e.$$set=e=>{"value"in e&&o(1,i=e.value),"disabled"in e&&o(2,s=e.disabled),"group"in e&&o(0,a=e.group),"selected"in e&&o(3,l=e.selected),"icon"in e&&o(4,c=e.icon),"$$scope"in e&&o(5,n=e.$$scope)},[a,i,s,l,c,n,r,function(t){Ne.call(this,e,t)},function(t){Ne.call(this,e,t)},function(t){Ne.call(this,e,t)},function(){a=this.__value,o(0,a)},[[]]]}class An extends ee{constructor(e){super(),te(this,e,Pn,En,oe,{value:1,disabled:2,group:0,selected:3,icon:4})}}const Tn="arrow-back-6279a4197e60";function xn(e){const t=e[3].default;e[4]=t}function Dn(e){let t,o;return xn(e),t=new e[4]({props:{traderConfig:e[0]}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){xn(e);const r={};1&o&&(r.traderConfig=e[0]),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function On(e){let t,o,r,n,i,s,a,l,c,u,d;return r=new He({props:{name:Tn}}),l=new Ue({props:{module:jn,$$slots:{default:[Dn,({module:e})=>({3:e}),({module:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){t=ke("div"),o=ke("button"),Ce(r.$$.fragment),n=fe(),i=ke("div"),i.textContent=`${window.tr(window.lang.login.brokerInformation.title)}`,s=fe(),a=ke("div"),Ce(l.$$.fragment),Se(o,"class","back svelte-e7iij9"),Se(o,"title",window.tr(window.lang.ui.screen.back)),Se(i,"class","title svelte-e7iij9"),Se(t,"class","header svelte-e7iij9"),Se(a,"class","bi-content svelte-e7iij9")},m(h,m){ne(h,t,m),Pe(t,o),ve(r,o,null),Pe(t,n),Pe(t,i),ne(h,s,m),ne(h,a,m),ve(l,a,null),c=!0,u||(d=Ae(o,"click",e[2]),u=!0)},p(e,[t]){const o={};33&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(le(r.$$.fragment,e),le(l.$$.fragment,e),c=!0)},o(e){se(r.$$.fragment,e),se(l.$$.fragment,e),c=!1},d(e){e&&(ce(t),ce(s),ce(a)),$e(r),$e(l),u=!1,d()}}}const jn=()=>ct((()=>import("./JVScBBSA.js")),[]);function Ln(e,t,o){const r=Fe();let{traderConfig:n}=t;return e.$$set=e=>{"traderConfig"in e&&o(0,n=e.traderConfig)},[n,r,()=>r("back")]}class In extends ee{constructor(e){super(),te(this,e,Ln,On,oe,{traderConfig:0})}}function Vn(e){let t,o,r,n,i,s,a,l,c,u,d,h,m=!1;s=new He({props:{name:e[5]}});const g=e[7].default,p=he(g,e,e[6],null);return u=ze(e[12][0]),{c(){t=ke("label"),o=ke("input"),r=fe(),n=ke("div"),i=ke("div"),Ce(s.$$.fragment),a=fe(),l=ke("div"),p&&p.c(),o.disabled=e[3],Se(o,"name","type"),Se(o,"type","radio"),o.__value=e[1],De(o,o.__value),Se(o,"class","svelte-cq5xlu"),Se(i,"class","icon svelte-cq5xlu"),Se(l,"class","title svelte-cq5xlu"),Se(n,"class","label svelte-cq5xlu"),Ee(n,"selected",e[4]),Se(t,"class","link svelte-cq5xlu"),Ee(t,"active",e[0]===e[1]||e[2]),Ee(t,"disabled",e[3]),u.p(o)},m(u,m){ne(u,t,m),Pe(t,o),o.checked=o.__value===e[0],Pe(t,r),Pe(t,n),Pe(n,i),ve(s,i,null),Pe(n,a),Pe(n,l),p&&p.m(l,null),c=!0,d||(h=[Ae(o,"change",e[11]),Ae(o,"change",e[10]),Ae(t,"dblclick",e[8]),Ae(t,"mouseenter",e[9])],d=!0)},p(e,[r]){(!c||8&r)&&(o.disabled=e[3]),(!c||2&r)&&(o.__value=e[1],De(o,o.__value),m=!0),(m||1&r)&&(o.checked=o.__value===e[0]);const i={};32&r&&(i.name=e[5]),s.$set(i),p&&p.p&&(!c||64&r)&&me(p,g,e,e[6],c?pe(g,e[6],r,null):ge(e[6]),null),(!c||16&r)&&Ee(n,"selected",e[4]),(!c||7&r)&&Ee(t,"active",e[0]===e[1]||e[2]),(!c||8&r)&&Ee(t,"disabled",e[3])},i(e){c||(le(s.$$.fragment,e),le(p,e),c=!0)},o(e){se(s.$$.fragment,e),se(p,e),c=!1},d(e){e&&ce(t),$e(s),p&&p.d(e),u.r(),d=!1,je(h)}}}function Rn(e,t,o){let{$$slots:r={},$$scope:n}=t,{value:i}=t,{checked:s=!1}=t,{disabled:a=!1}=t,{group:l}=t,{selected:c=!1}=t,{icon:u}=t;return e.$$set=e=>{"value"in e&&o(1,i=e.value),"checked"in e&&o(2,s=e.checked),"disabled"in e&&o(3,a=e.disabled),"group"in e&&o(0,l=e.group),"selected"in e&&o(4,c=e.selected),"icon"in e&&o(5,u=e.icon),"$$scope"in e&&o(6,n=e.$$scope)},[l,i,s,a,c,u,n,r,function(t){Ne.call(this,e,t)},function(t){Ne.call(this,e,t)},function(t){Ne.call(this,e,t)},function(){l=this.__value,o(0,l)},[[]]]}class Mn extends ee{constructor(e){super(),te(this,e,Rn,Vn,oe,{value:1,checked:2,disabled:3,group:0,selected:4,icon:5})}}const{Boolean:Bn}=Ze;function Hn(e){e[49]=e[46].Connect}function zn(e){e[48]=e[46].Existing}function Nn(e){e[47]=e[46].Real}function Un(e){e[45]=e[46].Demo}function Fn(e,t,o){const r=e.slice();return r[50]=t[o],r}function qn(e){let t,o=window.tr(window.lang.login.connect.title)+"";return{c(){t=xe(o)},m(e,o){ne(e,t,o)},p:ue,d(e){e&&ce(t)}}}function Wn(e){let t,o,r;function n(t){e[33](t)}let i={value:Zo.OpenDemo,icon:bn,disabled:!e[4].groups.demo.all.length||e[14].otpForm,$$slots:{default:[Kn]},$$scope:{ctx:e}};return void 0!==e[14].auth&&(i.group=e[14].auth),t=new Mn({props:i}),Be.push((()=>qe(t,"group",n))),t.$on("change",e[23]),t.$on("mouseenter",Oi),{c(){Ce(t.$$.fragment)},m(e,o){ve(t,e,o),r=!0},p(e,r){const n={};16400&r[0]&&(n.disabled=!e[4].groups.demo.all.length||e[14].otpForm),4194304&r[1]&&(n.$$scope={dirty:r,ctx:e}),!o&&16384&r[0]&&(o=!0,n.group=e[14].auth,Ye((()=>o=!1))),t.$set(n)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){se(t.$$.fragment,e),r=!1},d(e){$e(t,e)}}}function Kn(e){let t,o=window.tr(window.lang.login.demo.title)+"";return{c(){t=xe(o)},m(e,o){ne(e,t,o)},p:ue,d(e){e&&ce(t)}}}function Yn(e){let t,o,r;function n(t){e[34](t)}let i={value:Zo.OpenReal,icon:yn,disabled:!e[4].groups.real.all.length||e[14].otpForm,$$slots:{default:[Gn]},$$scope:{ctx:e}};return void 0!==e[14].auth&&(i.group=e[14].auth),t=new Mn({props:i}),Be.push((()=>qe(t,"group",n))),t.$on("change",e[23]),t.$on("mouseenter",ji),{c(){Ce(t.$$.fragment)},m(e,o){ve(t,e,o),r=!0},p(e,r){const n={};16400&r[0]&&(n.disabled=!e[4].groups.real.all.length||e[14].otpForm),4194304&r[1]&&(n.$$scope={dirty:r,ctx:e}),!o&&16384&r[0]&&(o=!0,n.group=e[14].auth,Ye((()=>o=!1))),t.$set(n)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){se(t.$$.fragment,e),r=!1},d(e){$e(t,e)}}}function Gn(e){let t,o=window.tr(window.lang.login.real.title)+"";return{c(){t=xe(o)},m(e,o){ne(e,t,o)},p:ue,d(e){e&&ce(t)}}}function Jn(e){let t,o,r,n,i,s,a,l,c=(new Date).getFullYear()+"",u=Te(e[18]),d=[];for(let m=0;m<u.length;m+=1)d[m]=Zn(Fn(e,u,m));const h=e=>se(d[e],1,1,(()=>{d[e]=null}));return{c(){t=ke("div");for(let e=0;e<d.length;e+=1)d[e].c();o=fe(),r=ke("span"),n=xe("© 2000 – "),i=xe(c),s=xe(", MetaQuotes Ltd.\r\n                    "),a=ke("a"),a.textContent="End-User License Agreement",Se(a,"target","_blank"),Se(a,"href","https://www.metaquotes.net/licenses/terminal/mt5"),Se(a,"class","svelte-n37jxn"),Se(r,"class","copyright svelte-n37jxn"),Se(t,"class","accounts svelte-n37jxn")},m(e,c){ne(e,t,c);for(let o=0;o<d.length;o+=1)d[o]&&d[o].m(t,null);Pe(t,o),Pe(t,r),Pe(r,n),Pe(r,i),Pe(r,s),Pe(r,a),l=!0},p(e,r){if(8699904&r[0]){let n;for(u=Te(e[18]),n=0;n<u.length;n+=1){const i=Fn(e,u,n);d[n]?(d[n].p(i,r),le(d[n],1)):(d[n]=Zn(i),d[n].c(),le(d[n],1),d[n].m(t,o))}for(ie(),n=u.length;n<d.length;n+=1)h(n);ae()}},i(e){if(!l){for(let e=0;e<u.length;e+=1)le(d[e]);l=!0}},o(e){d=d.filter(Bn);for(let t=0;t<d.length;t+=1)se(d[t]);l=!1},d(e){e&&ce(t),Oe(d,e)}}}function Qn(e){var t;let o,r,n,i,s,a,l,c,u,d,h,m=e[50].name+"",g=e[50].login+"",p=so((null==(t=e[50])?void 0:t.balance)??0,2)+"",f=e[50].currency+"";return{c(){o=ke("div"),r=ke("div"),n=xe(m),s=fe(),a=ke("div"),l=xe(g),c=fe(),u=xe(p),d=fe(),h=xe(f),Se(r,"class","account-name svelte-n37jxn"),Se(r,"title",i=e[50].name),Se(a,"class","account-info svelte-n37jxn"),Se(o,"class","account-item svelte-n37jxn")},m(e,t){ne(e,o,t),Pe(o,r),Pe(r,n),Pe(o,s),Pe(o,a),Pe(a,l),Pe(a,c),Pe(a,u),Pe(a,d),Pe(a,h)},p(e,t){var o;262144&t[0]&&m!==(m=e[50].name+"")&&Le(n,m),262144&t[0]&&i!==(i=e[50].name)&&Se(r,"title",i),262144&t[0]&&g!==(g=e[50].login+"")&&Le(l,g),262144&t[0]&&p!==(p=so((null==(o=e[50])?void 0:o.balance)??0,2)+"")&&Le(u,p),262144&t[0]&&f!==(f=e[50].currency+"")&&Le(h,f)},d(e){e&&ce(o)}}}function Zn(e){var t;let o,r,n;function i(t){e[35](t)}let s={value:e[50].id,icon:Ti(e[50].type),disabled:e[14].otpForm,selected:(null==(t=e[15].modules)?void 0:t.account.accountStore.login)===e[50].login,$$slots:{default:[Qn]},$$scope:{ctx:e}};return void 0!==e[14].auth&&(s.group=e[14].auth),o=new An({props:s}),Be.push((()=>qe(o,"group",i))),o.$on("change",e[23]),o.$on("mouseenter",Li),{c(){Ce(o.$$.fragment)},m(e,t){ve(o,e,t),n=!0},p(e,t){var n;const i={};262144&t[0]&&(i.value=e[50].id),262144&t[0]&&(i.icon=Ti(e[50].type)),16384&t[0]&&(i.disabled=e[14].otpForm),294912&t[0]&&(i.selected=(null==(n=e[15].modules)?void 0:n.account.accountStore.login)===e[50].login),262144&t[0]|4194304&t[1]&&(i.$$scope={dirty:t,ctx:e}),!r&&16384&t[0]&&(r=!0,i.group=e[14].auth,Ye((()=>r=!1))),o.$set(i)},i(e){n||(le(o.$$.fragment,e),n=!0)},o(e){se(o.$$.fragment,e),n=!1},d(e){$e(o,e)}}}function Xn(e){let t,o,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:si,then:ni,catch:ri,value:46,blocks:[,,,]};return Xe(ct((()=>import("./D7mBtksI.js")),[]),i),{c(){t=ke("div"),i.block.c(),Se(t,"class","wrap-connect svelte-n37jxn")},m(e,o){ne(e,t,o),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,n=!0},p(t,o){et(i,e=t,o)},i(e){n||(le(i.block),e&&Ie((()=>{n&&(r&&r.end(1),o=tt(t,xi,{duration:Ai,main:!0}),o.start())})),n=!0)},o(e){for(let t=0;t<3;t+=1){const e=i.blocks[t];se(e)}o&&o.invalidate(),e&&(r=ot(t,xi,{duration:Ai})),n=!1},d(e){e&&ce(t),i.block.d(),i.token=null,i=null,e&&r&&r.end()}}}function ei(e){let t,o,r=e[12].id,n=ui(e);return{c(){n.c(),t=re()},m(e,r){n.m(e,r),ne(e,t,r),o=!0},p(e,o){4096&o[0]&&oe(r,r=e[12].id)?(ie(),se(n,1,1,ue),ae(),n=ui(e),n.c(),le(n,1),n.m(t.parentNode,t)):n.p(e,o)},i(e){o||(le(n),o=!0)},o(e){se(n),o=!1},d(e){e&&ce(t),n.d(e)}}}function ti(e){let t,o,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:gi,then:hi,catch:di,value:46,blocks:[,,,]};return Xe(ct((()=>import("./DFfsQUs_.js")),[]),i),{c(){t=ke("div"),i.block.c(),Se(t,"class","wrap-real wrap svelte-n37jxn")},m(e,o){ne(e,t,o),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,n=!0},p(t,o){et(i,e=t,o)},i(e){n||(le(i.block),e&&Ie((()=>{n&&(r&&r.end(1),o=tt(t,xi,{duration:Ai,main:!0}),o.start())})),n=!0)},o(e){for(let t=0;t<3;t+=1){const e=i.blocks[t];se(e)}o&&o.invalidate(),e&&(r=ot(t,xi,{duration:Ai})),n=!1},d(e){e&&ce(t),i.block.d(),i.token=null,i=null,e&&r&&r.end()}}}function oi(e){let t,o,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:yi,then:fi,catch:pi,value:46,blocks:[,,,]};return Xe(ct((()=>import("./DGBpMcwZ.js")),[]),i),{c(){t=ke("div"),i.block.c(),Se(t,"class","wrap-demo wrap svelte-n37jxn")},m(e,o){ne(e,t,o),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,n=!0},p(t,o){et(i,e=t,o)},i(e){n||(le(i.block),e&&Ie((()=>{n&&(r&&r.end(1),o=tt(t,xi,{duration:Ai,main:!0}),o.start())})),n=!0)},o(e){for(let t=0;t<3;t+=1){const e=i.blocks[t];se(e)}o&&o.invalidate(),e&&(r=ot(t,xi,{duration:Ai})),n=!1},d(e){e&&ce(t),i.block.d(),i.token=null,i=null,e&&r&&r.end()}}}function ri(e){return{c:ue,m:ue,p:ue,i:ue,o:ue,d:ue}}function ni(e){let t,o,r;function n(t){e[40](t)}Hn(e);let i={traderConfig:e[4],usersStore:e[6],layoutStore:e[5],authController:e[9],authStore:e[8],$$slots:{default:[ii]},$$scope:{ctx:e}};return void 0!==e[13]&&(i.showBrokerInfo=e[13]),t=new e[49]({props:i}),Be.push((()=>qe(t,"showBrokerInfo",n))),t.$on("submit",e[21]),{c(){Ce(t.$$.fragment)},m(e,o){ve(t,e,o),r=!0},p(e,r){Hn(e);const n={};16&r[0]&&(n.traderConfig=e[4]),64&r[0]&&(n.usersStore=e[6]),32&r[0]&&(n.layoutStore=e[5]),512&r[0]&&(n.authController=e[9]),256&r[0]&&(n.authStore=e[8]),16&r[0]|4194304&r[1]&&(n.$$scope={dirty:r,ctx:e}),!o&&8192&r[0]&&(o=!0,n.showBrokerInfo=e[13],Ye((()=>o=!1))),t.$set(n)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){se(t.$$.fragment,e),r=!1},d(e){$e(t,e)}}}function ii(e){let t,o;return t=new In({props:{traderConfig:e[4]}}),t.$on("back",e[28]),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};16&o[0]&&(r.traderConfig=e[4]),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function si(e){let t,o,r;return o=new Ge({}),{c(){t=ke("div"),Ce(o.$$.fragment),Se(t,"class","wrap-connect loading svelte-n37jxn")},m(e,n){ne(e,t,n),ve(o,t,null),r=!0},p:ue,i(e){r||(le(o.$$.fragment,e),r=!0)},o(e){se(o.$$.fragment,e),r=!1},d(e){e&&ce(t),$e(o)}}}function ai(e){return{c:ue,m:ue,p:ue,i:ue,o:ue,d:ue}}function li(e){var t;let o,r,n;function i(t){e[39](t)}zn(e);let s={user:e[12],current:(null==(t=e[15].modules)?void 0:t.account.accountStore.login)===e[12].login,authStore:e[8],authController:e[9],layoutStore:e[5],usersController:e[7]};return void 0!==e[1]&&(s.autoConnect=e[1]),o=new e[48]({props:s}),Be.push((()=>qe(o,"autoConnect",i))),o.$on("connect",e[22]),o.$on("logout",e[26]),o.$on("remove",e[27]),{c(){Ce(o.$$.fragment)},m(e,t){ve(o,e,t),n=!0},p(e,t){var n;zn(e);const i={};4096&t[0]&&(i.user=e[12]),36864&t[0]&&(i.current=(null==(n=e[15].modules)?void 0:n.account.accountStore.login)===e[12].login),256&t[0]&&(i.authStore=e[8]),512&t[0]&&(i.authController=e[9]),32&t[0]&&(i.layoutStore=e[5]),128&t[0]&&(i.usersController=e[7]),!r&&2&t[0]&&(r=!0,i.autoConnect=e[1],Ye((()=>r=!1))),o.$set(i)},i(e){n||(le(o.$$.fragment,e),n=!0)},o(e){se(o.$$.fragment,e),n=!1},d(e){$e(o,e)}}}function ci(e){let t,o,r;return o=new Ge({}),{c(){t=ke("div"),Ce(o.$$.fragment),Se(t,"class","wrap-existing loading svelte-n37jxn")},m(e,n){ne(e,t,n),ve(o,t,null),r=!0},p:ue,i(e){r||(le(o.$$.fragment,e),r=!0)},o(e){se(o.$$.fragment,e),r=!1},d(e){e&&ce(t),$e(o)}}}function ui(e){let t,o,r,n,i={ctx:e,current:null,token:null,hasCatch:!1,pending:ci,then:li,catch:ai,value:46,blocks:[,,,]};return Xe(ct((()=>import("./D7mBtksI.js")),[]),i),{c(){t=ke("div"),i.block.c(),Se(t,"class","wrap-existing wrap svelte-n37jxn")},m(e,o){ne(e,t,o),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,n=!0},p(t,o){et(i,e=t,o)},i(e){n||(le(i.block),e&&Ie((()=>{n&&(r&&r.end(1),o=tt(t,xi,{duration:Ai,main:!0}),o.start())})),n=!0)},o(e){for(let t=0;t<3;t+=1){const e=i.blocks[t];se(e)}o&&o.invalidate(),e&&(r=ot(t,xi,{duration:Ai})),n=!1},d(e){e&&ce(t),i.block.d(),i.token=null,i=null,e&&r&&r.end()}}}function di(e){return{c:ue,m:ue,p:ue,i:ue,o:ue,d:ue}}function hi(e){let t,o,r;function n(t){e[38](t)}Nn(e);let i={traderConfig:e[4],usersController:e[7],$$slots:{default:[mi]},$$scope:{ctx:e}};return void 0!==e[13]&&(i.showBrokerInfo=e[13]),t=new e[47]({props:i}),Be.push((()=>qe(t,"showBrokerInfo",n))),t.$on("success",e[24]),t.$on("error",e[25]),{c(){Ce(t.$$.fragment)},m(e,o){ve(t,e,o),r=!0},p(e,r){Nn(e);const n={};16&r[0]&&(n.traderConfig=e[4]),128&r[0]&&(n.usersController=e[7]),16&r[0]|4194304&r[1]&&(n.$$scope={dirty:r,ctx:e}),!o&&8192&r[0]&&(o=!0,n.showBrokerInfo=e[13],Ye((()=>o=!1))),t.$set(n)},i(e){r||(le(t.$$.fragment,e),r=!0)},o(e){se(t.$$.fragment,e),r=!1},d(e){$e(t,e)}}}function mi(e){let t,o;return t=new In({props:{traderConfig:e[4]}}),t.$on("back",e[28]),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};16&o[0]&&(r.traderConfig=e[4]),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function gi(e){let t,o,r;return o=new Ge({}),{c(){t=ke("div"),Ce(o.$$.fragment),Se(t,"class","wrap-real loading svelte-n37jxn")},m(e,n){ne(e,t,n),ve(o,t,null),r=!0},p:ue,i(e){r||(le(o.$$.fragment,e),r=!0)},o(e){se(o.$$.fragment,e),r=!1},d(e){e&&ce(t),$e(o)}}}function pi(e){return{c:ue,m:ue,p:ue,i:ue,o:ue,d:ue}}function fi(e){let t,o,r,n;function i(t){e[36](t)}function s(t){e[37](t)}Un(e);let a={traderConfig:e[4],configController:e[3],usersController:e[7],layoutStore:e[5],$$slots:{default:[wi]},$$scope:{ctx:e}};return void 0!==e[13]&&(a.showBrokerInfo=e[13]),void 0!==e[17]&&(a.step=e[17]),t=new e[45]({props:a}),Be.push((()=>qe(t,"showBrokerInfo",i))),Be.push((()=>qe(t,"step",s))),t.$on("success",e[19]),t.$on("error",e[20]),{c(){Ce(t.$$.fragment)},m(e,o){ve(t,e,o),n=!0},p(e,n){Un(e);const i={};16&n[0]&&(i.traderConfig=e[4]),8&n[0]&&(i.configController=e[3]),128&n[0]&&(i.usersController=e[7]),32&n[0]&&(i.layoutStore=e[5]),16&n[0]|4194304&n[1]&&(i.$$scope={dirty:n,ctx:e}),!o&&8192&n[0]&&(o=!0,i.showBrokerInfo=e[13],Ye((()=>o=!1))),!r&&131072&n[0]&&(r=!0,i.step=e[17],Ye((()=>r=!1))),t.$set(i)},i(e){n||(le(t.$$.fragment,e),n=!0)},o(e){se(t.$$.fragment,e),n=!1},d(e){$e(t,e)}}}function wi(e){let t,o;return t=new In({props:{traderConfig:e[4]}}),t.$on("back",e[28]),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};16&o[0]&&(r.traderConfig=e[4]),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function yi(e){let t,o,r;return o=new Ge({}),{c(){t=ke("div"),Ce(o.$$.fragment),Se(t,"class","wrap-demo loading svelte-n37jxn")},m(e,n){ne(e,t,n),ve(o,t,null),r=!0},p:ue,i(e){r||(le(o.$$.fragment,e),r=!0)},o(e){se(o.$$.fragment,e),r=!1},d(e){e&&ce(t),$e(o)}}}function bi(e){let t,o;return t=new Ge({props:{overlay:!0}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function _i(e){let t,o,r,n;const i=[vi,Ci],s=[];function a(e,t){var o,r,n;return e[15].connect.error||e[10]||e[11]||e[12]&&(null==(o=e[15].existing[e[12].login])?void 0:o.error)?0:(null==(r=e[15].createdUser)?void 0:r.investor)&&e[15].createdUser.id===(null==(n=e[12])?void 0:n.id)?1:-1}return~(o=a(e))&&(r=s[o]=i[o](e)),{c(){t=ke("div"),r&&r.c(),Se(t,"class","info svelte-n37jxn")},m(e,r){ne(e,t,r),~o&&s[o].m(t,null),n=!0},p(e,n){let l=o;o=a(e),o===l?~o&&s[o].p(e,n):(r&&(ie(),se(s[l],1,1,(()=>{s[l]=null})),ae()),~o?(r=s[o],r?r.p(e,n):(r=s[o]=i[o](e),r.c()),le(r,1),r.m(t,null)):r=null)},i(e){n||(le(r),n=!0)},o(e){se(r),n=!1},d(e){e&&ce(t),~o&&s[o].d()}}}function Ci(e){let t,o;return t=new Sn({props:{user:e[12],investor:e[15].createdUser.investor}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};4096&o[0]&&(r.user=e[12]),32768&o[0]&&(r.investor=e[15].createdUser.investor),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function vi(e){let t,o,r,n;const i=[Ei,Si,ki,$i],s=[];function a(e,t){var o;return e[14].auth===Zo.Connect&&e[15].connect.error?0:e[14].auth===Zo.OpenDemo&&e[10]?1:e[14].auth===Zo.OpenReal&&e[11]?2:e[12]&&(null==(o=e[15].existing[e[12].login])?void 0:o.error)?3:-1}return~(t=a(e))&&(o=s[t]=i[t](e)),{c(){o&&o.c(),r=re()},m(e,o){~t&&s[t].m(e,o),ne(e,r,o),n=!0},p(e,n){let l=t;t=a(e),t===l?~t&&s[t].p(e,n):(o&&(ie(),se(s[l],1,1,(()=>{s[l]=null})),ae()),~t?(o=s[t],o?o.p(e,n):(o=s[t]=i[t](e),o.c()),le(o,1),o.m(r.parentNode,r)):o=null)},i(e){n||(le(o),n=!0)},o(e){se(o),n=!1},d(e){e&&ce(r),~t&&s[t].d(e)}}}function $i(e){var t,o;let r,n;return r=new wn({props:{message:null==(t=e[15].existing[e[12].login].error)?void 0:t.message,warning:"warning"===(null==(o=e[15].existing[e[12].login].error)?void 0:o.type)}}),{c(){Ce(r.$$.fragment)},m(e,t){ve(r,e,t),n=!0},p(e,t){var o,n;const i={};36864&t[0]&&(i.message=null==(o=e[15].existing[e[12].login].error)?void 0:o.message),36864&t[0]&&(i.warning="warning"===(null==(n=e[15].existing[e[12].login].error)?void 0:n.type)),r.$set(i)},i(e){n||(le(r.$$.fragment,e),n=!0)},o(e){se(r.$$.fragment,e),n=!1},d(e){$e(r,e)}}}function ki(e){var t;let o,r;return o=new wn({props:{message:e[11].message,warning:"warning"===(null==(t=e[11])?void 0:t.type)}}),{c(){Ce(o.$$.fragment)},m(e,t){ve(o,e,t),r=!0},p(e,t){var r;const n={};2048&t[0]&&(n.message=e[11].message),2048&t[0]&&(n.warning="warning"===(null==(r=e[11])?void 0:r.type)),o.$set(n)},i(e){r||(le(o.$$.fragment,e),r=!0)},o(e){se(o.$$.fragment,e),r=!1},d(e){$e(o,e)}}}function Si(e){var t;let o,r;return o=new wn({props:{message:e[10].message,warning:"warning"===(null==(t=e[10])?void 0:t.type)}}),{c(){Ce(o.$$.fragment)},m(e,t){ve(o,e,t),r=!0},p(e,t){var r;const n={};1024&t[0]&&(n.message=e[10].message),1024&t[0]&&(n.warning="warning"===(null==(r=e[10])?void 0:r.type)),o.$set(n)},i(e){r||(le(o.$$.fragment,e),r=!0)},o(e){se(o.$$.fragment,e),r=!1},d(e){$e(o,e)}}}function Ei(e){let t,o;return t=new wn({props:{message:e[15].connect.error.message,warning:"warning"===e[15].connect.error.type}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};32768&o[0]&&(r.message=e[15].connect.error.message),32768&o[0]&&(r.warning="warning"===e[15].connect.error.type),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function Pi(e){let t,o,r,n,i,s,a,l,c,u,d,h,m,g,p,f,w,y;function b(t){e[32](t)}let _={checked:!1,value:Zo.Connect,icon:_n,disabled:e[14].otpForm,$$slots:{default:[qn]},$$scope:{ctx:e}};void 0!==e[14].auth&&(_.group=e[14].auth),n=new Mn({props:_}),Be.push((()=>qe(n,"group",b))),n.$on("change",e[23]),n.$on("mouseenter",Di);let C=e[4].groups.demo.all.length&&Wn(e),v=e[4].groups.real.all.length&&Yn(e),$=Jn(e);const k=[oi,ti,ei,Xn],S=[];function E(e,t){return e[14].auth===Zo.OpenDemo?0:e[14].auth===Zo.OpenReal?1:e[12]?2:3}h=E(e),m=S[h]=k[h](e);let P=e[0]&&bi(),A=!e[0]&&_i(e);return{c(){t=ke("div"),o=ke("div"),r=ke("div"),Ce(n.$$.fragment),s=fe(),C&&C.c(),a=fe(),v&&v.c(),l=fe(),$&&$.c(),c=fe(),u=ke("div"),d=ke("div"),m.c(),p=fe(),P&&P.c(),f=fe(),A&&A.c(),w=re(),Se(r,"class","menu svelte-n37jxn"),Se(o,"class","login-nav svelte-n37jxn"),Se(d,"class","content-inner svelte-n37jxn"),Se(u,"class","content svelte-n37jxn"),Ie((()=>e[41].call(u))),We(u,"min-height",(e[18].length,"auto")),Se(t,"class","login-content svelte-n37jxn")},m(i,m){ne(i,t,m),Pe(t,o),Pe(o,r),ve(n,r,null),Pe(r,s),C&&C.m(r,null),Pe(r,a),v&&v.m(r,null),Pe(o,l),$&&$.m(o,null),Pe(t,c),Pe(t,u),Pe(u,d),S[h].m(d,null),g=Ke(u,e[41].bind(u)),e[42](u),Pe(t,p),P&&P.m(t,null),ne(i,f,m),A&&A.m(i,m),ne(i,w,m),y=!0},p(e,s){const l={};16384&s[0]&&(l.checked=!1),16384&s[0]&&(l.disabled=e[14].otpForm),4194304&s[1]&&(l.$$scope={dirty:s,ctx:e}),!i&&16384&s[0]&&(i=!0,l.group=e[14].auth,Ye((()=>i=!1))),n.$set(l),e[4].groups.demo.all.length?C?(C.p(e,s),16&s[0]&&le(C,1)):(C=Wn(e),C.c(),le(C,1),C.m(r,a)):C&&(ie(),se(C,1,1,(()=>{C=null})),ae()),e[4].groups.real.all.length?v?(v.p(e,s),16&s[0]&&le(v,1)):(v=Yn(e),v.c(),le(v,1),v.m(r,null)):v&&(ie(),se(v,1,1,(()=>{v=null})),ae()),$?($.p(e,s),16384&s[0]&&le($,1)):($=Jn(e),$.c(),le($,1),$.m(o,null));let c=h;h=E(e),h===c?S[h].p(e,s):(ie(),se(S[c],1,1,(()=>{S[c]=null})),ae(),m=S[h],m?m.p(e,s):(m=S[h]=k[h](e),m.c()),le(m,1),m.m(d,null)),262144&s[0]&&We(u,"min-height",(e[18].length,"auto")),e[0]?P?1&s[0]&&le(P,1):(P=bi(),P.c(),le(P,1),P.m(t,null)):P&&(ie(),se(P,1,1,(()=>{P=null})),ae()),e[0]?A&&(ie(),se(A,1,1,(()=>{A=null})),ae()):A?(A.p(e,s),1&s[0]&&le(A,1)):(A=_i(e),A.c(),le(A,1),A.m(w.parentNode,w))},i(e){y||(le(n.$$.fragment,e),le(C),le(v),le($),le(m),le(P),le(A),y=!0)},o(e){se(n.$$.fragment,e),se(C),se(v),se($),se(m),se(P),se(A),y=!1},d(o){o&&(ce(t),ce(f),ce(w)),$e(n),C&&C.d(),v&&v.d(),$&&$.d(),S[h].d(),g(),e[42](null),P&&P.d(),A&&A.d(o)}}}const Ai=120;function Ti(e){return 0===e?yn:3===e?"account-preliminary-60a8937af161":bn}function xi(e,{delay:t=0,duration:o=400,easing:r=rt,main:n=!1}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:o,easing:r,css:e=>`opacity: ${e*i}; position: ${n?"static":"absolute"}; width: 100%;`}}const Di=()=>ct((()=>import("./D7mBtksI.js")),[]),Oi=()=>ct((()=>import("./DGBpMcwZ.js")),[]),ji=()=>ct((()=>import("./DFfsQUs_.js")),[]),Li=()=>ct((()=>import("./D7mBtksI.js")),[]);function Ii(e,t,o){let r,n,i,s,a=ue,l=()=>(a(),a=de(p,(e=>o(14,n=e))),p),c=ue,u=()=>(c(),c=de(f,(e=>o(31,i=e))),f),d=ue,h=()=>(d(),d=de(y,(e=>o(15,s=e))),y);e.$$.on_destroy.push((()=>a())),e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));let{configController:m}=t,{traderConfig:g}=t,{layoutStore:p}=t;l();let{usersStore:f}=t;u();let{usersController:w}=t,{authStore:y}=t;h();let b,_,{authController:C}=t,{autoConnect:v}=t,{loading:$=!1}=t,{clientHeight:k=0}=t,{showMessage:S=!1}=t,E=null,P=null,A=null,T=!1,x=n.auth;function D(){Qe(p,n.auth=Zo.None,n)}return e.$$set=e=>{"configController"in e&&o(3,m=e.configController),"traderConfig"in e&&o(4,g=e.traderConfig),"layoutStore"in e&&l(o(5,p=e.layoutStore)),"usersStore"in e&&u(o(6,f=e.usersStore)),"usersController"in e&&o(7,w=e.usersController),"authStore"in e&&h(o(8,y=e.authStore)),"authController"in e&&o(9,C=e.authController),"autoConnect"in e&&o(1,v=e.autoConnect),"loading"in e&&o(0,$=e.loading),"clientHeight"in e&&o(2,k=e.clientHeight),"showMessage"in e&&o(29,S=e.showMessage)},e.$$.update=()=>{var t,a;1&e.$$.dirty[1]&&o(18,r=i.getAllUsers()),1073766400&e.$$.dirty[0]&&n.auth!==x&&(o(30,x=n.auth),T&&o(13,T=!1)),16384&e.$$.dirty[0]|1&e.$$.dirty[1]&&o(12,A="string"==typeof n.auth?i.getUserById(n.auth):null),53248&e.$$.dirty[0]&&o(0,$=Boolean(n.auth===Zo.Connect&&0!==s.connect.status&&6!==s.connect.status||A&&s.existing[A.login]&&0!==s.existing[A.login].status&&6!==s.existing[A.login].status)),56321&e.$$.dirty[0]&&o(29,S=Boolean(!$&&(n.auth===Zo.Connect&&s.connect.error||n.auth===Zo.OpenDemo&&E||n.auth===Zo.OpenReal&&P||A&&(null==(t=s.existing[A.login])?void 0:t.error)||(null==(a=s.createdUser)?void 0:a.investor)&&s.createdUser.id===(null==A?void 0:A.id)))),16384&e.$$.dirty[0]&&async function(){await Je(),b&&k!==b.clientHeight&&o(2,k=b.clientHeight)}()},[$,v,k,m,g,p,f,w,y,C,E,P,A,T,n,s,b,_,r,function(e){Qe(y,s.createdUser=e.detail.response,s),p.setLayout({auth:s.createdUser.id});const t=i.getUserById(s.createdUser.id);t&&i.updateCurrentUser(t.login,{isHedgedMargin:e.detail.isHedgedMargin})},function(e){o(10,E=e.detail)},function(){var e;if(!s.connect.error){if(Qe(y,s.createdUser=null,s),null==(e=s.modules)?void 0:e.account.accountStore.isResetPass){const e=f.getUserByLogin(s.modules.account.accountStore.login);e&&n.setLayout({auth:e.id})}else D();Qe(y,s.connect.error=null,s)}},function(){var e;if(Qe(y,s.createdUser=null,s),null==(e=s.modules)?void 0:e.account.accountStore.isResetPass){const e=f.getUserByLogin(s.modules.account.accountStore.login);e&&n.setLayout({auth:e.id})}D()},function(){Qe(y,s.connect.error=null,s)},function(e){Qe(y,s.createdUser=e.detail.response,s),p.setLayout({auth:s.createdUser.id});const t=i.getUserById(s.createdUser.id);t&&i.updateCurrentUser(t.login,{isHedgedMargin:e.detail.isHedgedMargin})},function(e){o(11,P=e.detail)},function(){C.logout()},async function(){if(!(null==A?void 0:A.login))return;const e=r.findIndex((e=>e.id===(null==A?void 0:A.id)));var t;i.removeUser(A.id),t=A.id,Vr.objects.removeByUserId(t),Vr.indicators.removeByUserId(t),Vr.configs.removeByUserId(t),Vr.trade_bars.removeByUserId(t),Vr.marks.removeByUserId(t),Vr.watchlist.removeByUserId(t),Vr.user_settings.removeByUserId(t),await Je(),-1!==e&&r.length?r.length>e?n.setLayout({auth:r[e].id}):n.setLayout({auth:r[r.length-1].id}):n.setLayout({auth:Zo.Connect})},function(){o(13,T=!1)},S,x,i,function(t){e.$$.not_equal(n.auth,t)&&(n.auth=t,p.set(n))},function(t){e.$$.not_equal(n.auth,t)&&(n.auth=t,p.set(n))},function(t){e.$$.not_equal(n.auth,t)&&(n.auth=t,p.set(n))},function(t){e.$$.not_equal(n.auth,t)&&(n.auth=t,p.set(n))},function(e){T=e,o(13,T),o(14,n),o(30,x)},function(e){_=e,o(17,_)},function(e){T=e,o(13,T),o(14,n),o(30,x)},function(e){v=e,o(1,v)},function(e){T=e,o(13,T),o(14,n),o(30,x)},function(){k=this.clientHeight,o(2,k)},function(e){Be[e?"unshift":"push"]((()=>{b=e,o(16,b)}))}]}class Vi extends ee{constructor(e){super(),te(this,e,Ii,Pi,oe,{configController:3,traderConfig:4,layoutStore:5,usersStore:6,usersController:7,authStore:8,authController:9,autoConnect:1,loading:0,clientHeight:2,showMessage:29},null,[-1,-1])}}const Ri="delete-a0c0bd43ebf7";function Mi(e){let t,o;const r=e[4].default,n=he(r,e,e[5],null);return{c(){t=ke("div"),n&&n.c(),Se(t,"class","login svelte-1h20drg"),We(t,"height",e[2])},m(e,r){ne(e,t,r),n&&n.m(t,null),o=!0},p(e,i){n&&n.p&&(!o||32&i)&&me(n,r,e,e[5],o?pe(r,e[5],i,null):ge(e[5]),null),4&i&&We(t,"height",e[2])},i(e){o||(le(n,e),o=!0)},o(e){se(n,e),o=!1},d(e){e&&ce(t),n&&n.d(e)}}}function Bi(e){let t,o;return t=new He({props:{slot:"close",name:Ri}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p:ue,i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function Hi(e){let t,o;return t=new nt({props:{draggable:!0,hideCloseButton:e[1],title:e[0],$$slots:{close:[Bi],default:[Mi]},$$scope:{ctx:e}}}),t.$on("close",e[3]),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,[o]){const r={};2&o&&(r.hideCloseButton=e[1]),1&o&&(r.title=e[0]),36&o&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function zi(e,t,o){let{$$slots:r={},$$scope:n}=t;const i=Fe();let{title:s}=t,{hideClose:a}=t,{height:l}=t;return e.$$set=e=>{"title"in e&&o(0,s=e.title),"hideClose"in e&&o(1,a=e.hideClose),"height"in e&&o(2,l=e.height),"$$scope"in e&&o(5,n=e.$$scope)},[s,a,l,function(){i("close")},r,n]}class Ni extends ee{constructor(e){super(),te(this,e,zi,Hi,oe,{title:0,hideClose:1,height:2})}}const Ui=e=>({modules:128&e}),Fi=e=>({modules:e[7].modules});function qi(e){let t,o,r=!e[7].modules.account.accountStore.isResetPass&&Wi(e);return{c(){r&&r.c(),t=re()},m(e,n){r&&r.m(e,n),ne(e,t,n),o=!0},p(e,o){e[7].modules.account.accountStore.isResetPass?r&&(ie(),se(r,1,1,(()=>{r=null})),ae()):r?(r.p(e,o),128&o&&le(r,1)):(r=Wi(e),r.c(),le(r,1),r.m(t.parentNode,t))},i(e){o||(le(r),o=!0)},o(e){se(r),o=!1},d(e){e&&ce(t),r&&r.d(e)}}}function Wi(e){let t;const o=e[21].default,r=he(o,e,e[26],Fi);return{c(){r&&r.c()},m(e,o){r&&r.m(e,o),t=!0},p(e,n){r&&r.p&&(!t||67108992&n)&&me(r,o,e,e[26],t?pe(o,e[26],n,Ui):ge(e[26]),Fi)},i(e){t||(le(r,e),t=!0)},o(e){se(r,e),t=!1},d(e){r&&r.d(e)}}}function Ki(e){let t,o;return t=new Ni({props:{hideClose:e[9],title:e[17],height:e[10]?`${e[10]+40*Number(e[8])}px`:"auto",$$slots:{default:[Yi]},$$scope:{ctx:e}}}),t.$on("close",e[18]),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};512&o&&(r.hideClose=e[9]),1280&o&&(r.height=e[10]?`${e[10]+40*Number(e[8])}px`:"auto"),67114335&o&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function Yi(e){let t,o,r,n,i,s;function a(t){e[22](t)}function l(t){e[23](t)}function c(t){e[24](t)}function u(t){e[25](t)}let d={traderConfig:e[16],configController:e[15],layoutStore:e[0],authController:e[3],authStore:e[4],usersController:e[1],usersStore:e[2]};return void 0!==e[12]&&(d.autoConnect=e[12]),void 0!==e[6]&&(d.loading=e[6]),void 0!==e[10]&&(d.clientHeight=e[10]),void 0!==e[8]&&(d.showMessage=e[8]),t=new Vi({props:d}),Be.push((()=>qe(t,"autoConnect",a))),Be.push((()=>qe(t,"loading",l))),Be.push((()=>qe(t,"clientHeight",c))),Be.push((()=>qe(t,"showMessage",u))),{c(){Ce(t.$$.fragment)},m(e,o){ve(t,e,o),s=!0},p(e,s){const a={};1&s&&(a.layoutStore=e[0]),8&s&&(a.authController=e[3]),16&s&&(a.authStore=e[4]),2&s&&(a.usersController=e[1]),4&s&&(a.usersStore=e[2]),!o&&4096&s&&(o=!0,a.autoConnect=e[12],Ye((()=>o=!1))),!r&&64&s&&(r=!0,a.loading=e[6],Ye((()=>r=!1))),!n&&1024&s&&(n=!0,a.clientHeight=e[10],Ye((()=>n=!1))),!i&&256&s&&(i=!0,a.showMessage=e[8],Ye((()=>i=!1))),t.$set(a)},i(e){s||(le(t.$$.fragment,e),s=!0)},o(e){se(t.$$.fragment,e),s=!1},d(e){$e(t,e)}}}function Gi(e){var t,o,r;let n,i,s,a=e[7].modules&&qi(e),l=(!e[7].modules||e[13].auth!==Zo.None||(null==(t=e[7].modules)?void 0:t.account.accountStore.isResetPass)||e[11]&&5===(null==(r=null==(o=e[7].existing[e[11].login])?void 0:o.error)?void 0:r.code))&&Ki(e);return{c(){a&&a.c(),n=fe(),l&&l.c(),i=re()},m(e,t){a&&a.m(e,t),ne(e,n,t),l&&l.m(e,t),ne(e,i,t),s=!0},p(e,t){var o,r,s;e[7].modules?a?(a.p(e,t),128&t&&le(a,1)):(a=qi(e),a.c(),le(a,1),a.m(n.parentNode,n)):a&&(ie(),se(a,1,1,(()=>{a=null})),ae()),!e[7].modules||e[13].auth!==Zo.None||(null==(o=e[7].modules)?void 0:o.account.accountStore.isResetPass)||e[11]&&5===(null==(s=null==(r=e[7].existing[e[11].login])?void 0:r.error)?void 0:s.code)?l?(l.p(e,t),10368&t&&le(l,1)):(l=Ki(e),l.c(),le(l,1),l.m(i.parentNode,i)):l&&(ie(),se(l,1,1,(()=>{l=null})),ae())},i(e){s||(le(a),le(l),s=!0)},o(e){se(a),se(l),s=!1},d(e){e&&(ce(n),ce(i)),a&&a.d(e),l&&l.d(e)}}}function Ji(e){let t,o,r=e[14].language,n=Gi(e);return{c(){n.c(),t=re()},m(e,r){n.m(e,r),ne(e,t,r),o=!0},p(e,[o]){16384&o&&oe(r,r=e[14].language)?(ie(),se(n,1,1,ue),ae(),n=Gi(e),n.c(),le(n,1),n.m(t.parentNode,t)):n.p(e,o)},i(e){o||(le(n),o=!0)},o(e){se(n),o=!1},d(e){e&&ce(t),n.d(e)}}}const Qi=Bt.get("login");function Zi(e,t,o){let r,n,i,s,a=ue,l=()=>(a(),a=de(w,(e=>o(13,r=e))),w),c=ue,u=()=>(c(),c=de(b,(e=>o(20,n=e))),b),d=ue,h=()=>(d(),d=de(C,(e=>o(7,i=e))),C),m=ue,g=()=>(m(),m=de($,(e=>o(14,s=e))),$);e.$$.on_destroy.push((()=>a())),e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>m()));let{$$slots:p={},$$scope:f}=t,{layoutStore:w}=t;l();let{usersController:y}=t,{usersStore:b}=t;u();let{authController:_}=t,{authStore:C}=t;h();let{configModule:v}=t,{langReloadStore:$}=t;g();const{configController:k,configStore:S}=v;let E=!1,P=!1;const A=S.broker.name?window.tr(window.lang.login.mainForm.titleWithName,{brokerName:S.broker.name}):window.tr(window.lang.login.mainForm.title);let T,x=!0,D=n.getCurrentUser(),O=!1;return it((()=>{!function(){const e=function(e){const t=Bt.get("mode");return"demo"===t&&e.groups.demo.all.length?Zo.OpenDemo:"real"===t&&e.groups.real.all.length?Zo.OpenReal:Zo.Connect}(S);if(Qi&&e===Zo.Connect){const e=Number(Qi);if(!isNaN(e)&&Number.isFinite(e)){const t=n.getUserByLogin(e);t?(r.setLayout({auth:t.id}),o(12,O=Boolean(t.savePassword))):r.setLayout({auth:Zo.Connect})}}else r.setLayout({auth:(null==D?void 0:D.id)??e}),o(12,O=Boolean(null==D?void 0:D.id))}()})),e.$$set=e=>{"layoutStore"in e&&l(o(0,w=e.layoutStore)),"usersController"in e&&o(1,y=e.usersController),"usersStore"in e&&u(o(2,b=e.usersStore)),"authController"in e&&o(3,_=e.authController),"authStore"in e&&h(o(4,C=e.authStore)),"configModule"in e&&o(19,v=e.configModule),"langReloadStore"in e&&g(o(5,$=e.langReloadStore)),"$$scope"in e&&o(26,f=e.$$scope)},e.$$.update=()=>{var t;192&e.$$.dirty&&o(9,x=!i.modules||E||(null==(t=i.modules)?void 0:t.account.accountStore.isResetPass)),1048576&e.$$.dirty&&o(11,D=n.getCurrentUser())},[w,y,b,_,C,$,E,i,P,x,T,D,O,r,s,k,S,A,function(){r.setLayout({auth:Zo.None})},v,n,p,function(e){O=e,o(12,O)},function(e){E=e,o(6,E)},function(e){T=e,o(10,T)},function(e){P=e,o(8,P)},f]}class Xi extends ee{constructor(e){super(),te(this,e,Zi,Ji,oe,{layoutStore:0,usersController:1,usersStore:2,authController:3,authStore:4,configModule:19,langReloadStore:5})}}function es(e){const t=e[10].default;e[11]=t}function ts(e){e[8]=e[9].default}function os(e){let t,o;return t=new $t({props:{ui:e[0],modules:e[6],$$slots:{default:[cs,({symbol:e})=>({7:e}),({symbol:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};1&o&&(r.ui=e[0]),64&o&&(r.modules=e[6]),4303&o&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function rs(e){let t,o;return es(e),t=new e[11]({props:{symbol:e[7],ui:e[0],auth:e[2],traderConfig:e[1].configStore,modules:e[6],lang:e[3]}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){es(e);const r={};128&o&&(r.symbol=e[7]),1&o&&(r.ui=e[0]),4&o&&(r.auth=e[2]),2&o&&(r.traderConfig=e[1].configStore),64&o&&(r.modules=e[6]),8&o&&(r.lang=e[3]),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function ns(e){let t,o;return t=new Ue({props:{module:hs,$$slots:{default:[rs,({module:e})=>({10:e}),({module:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};4303&o&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function is(e){return{c:ue,m:ue,p:ue,i:ue,o:ue,d:ue}}function ss(e){let t,o;return ts(e),t=new e[8]({props:{usersStore:e[0].users.usersStore,accountStore:e[6].account.accountStore,notifyController:e[6].notify.notifyController}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){ts(e);const r={};1&o&&(r.usersStore=e[0].users.usersStore),64&o&&(r.accountStore=e[6].account.accountStore),64&o&&(r.notifyController=e[6].notify.notifyController),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function as(e){return{c:ue,m:ue,p:ue,i:ue,o:ue,d:ue}}function ls(e){let t,o,r={ctx:e,current:null,token:null,hasCatch:!1,pending:as,then:ss,catch:is,value:9,blocks:[,,,]};return Xe(ct((()=>import("./BUbVSTG6.js")),[]),r),{c(){t=re(),r.block.c()},m(e,n){ne(e,t,n),r.block.m(e,r.anchor=n),r.mount=()=>t.parentNode,r.anchor=t,o=!0},p(t,o){et(r,e=t,o)},i(e){o||(le(r.block),o=!0)},o(e){for(let t=0;t<3;t+=1){const e=r.blocks[t];se(e)}o=!1},d(e){e&&ce(t),r.block.d(e),r.token=null,r=null}}}function cs(e){let t,o;return t=new ft({props:{usersStore:e[0].users.usersStore,accountStore:e[6].account.accountStore,$$slots:{risk:[ls],default:[ns]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment)},m(e,r){ve(t,e,r),o=!0},p(e,o){const r={};1&o&&(r.usersStore=e[0].users.usersStore),64&o&&(r.accountStore=e[6].account.accountStore),4303&o&&(r.$$scope={dirty:o,ctx:e}),t.$set(r)},i(e){o||(le(t.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),o=!1},d(e){$e(t,e)}}}function us(e){let t,o,r=e[6]&&!e[6].disabled&&os(e);return{c(){r&&r.c(),t=re()},m(e,n){r&&r.m(e,n),ne(e,t,n),o=!0},p(e,o){e[6]&&!e[6].disabled?r?(r.p(e,o),64&o&&le(r,1)):(r=os(e),r.c(),le(r,1),r.m(t.parentNode,t)):r&&(ie(),se(r,1,1,(()=>{r=null})),ae())},i(e){o||(le(r),o=!0)},o(e){se(r),o=!1},d(e){e&&ce(t),r&&r.d(e)}}}function ds(e){let t,o,r,n;return t=new nn({}),r=new Xi({props:{langReloadStore:e[3].langReloadStore,layoutStore:e[4],usersController:e[0].users.usersController,usersStore:e[0].users.usersStore,authStore:e[2].authStore,authController:e[2].authController,configModule:e[1],$$slots:{default:[us,({modules:e})=>({6:e}),({modules:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){Ce(t.$$.fragment),o=fe(),Ce(r.$$.fragment)},m(e,i){ve(t,e,i),ne(e,o,i),ve(r,e,i),n=!0},p(e,[t]){const o={};8&t&&(o.langReloadStore=e[3].langReloadStore),1&t&&(o.usersController=e[0].users.usersController),1&t&&(o.usersStore=e[0].users.usersStore),4&t&&(o.authStore=e[2].authStore),4&t&&(o.authController=e[2].authController),2&t&&(o.configModule=e[1]),4175&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o)},i(e){n||(le(t.$$.fragment,e),le(r.$$.fragment,e),n=!0)},o(e){se(t.$$.fragment,e),se(r.$$.fragment,e),n=!1},d(e){e&&ce(o),$e(t,e),$e(r,e)}}}const hs=()=>ct((()=>import("./CfNXtIL4.js").then((e=>e.s))),[]);function ms(e,t,o){let r,{ui:n}=t,{configModule:i}=t,{auth:s}=t,{lang:a}=t;const{layoutStore:l}=n.layout;return we(e,l,(e=>o(5,r=e))),Qe(l,r.isSafari=void 0!==window.safari,r),e.$$set=e=>{"ui"in e&&o(0,n=e.ui),"configModule"in e&&o(1,i=e.configModule),"auth"in e&&o(2,s=e.auth),"lang"in e&&o(3,a=e.lang)},document.body.classList.remove("mobile"),document.body.classList.add("desktop"),[n,i,s,a,l]}class gs extends ee{constructor(e){super(),te(this,e,ms,ds,oe,{ui:0,configModule:1,auth:2,lang:3})}}window.tr=function(e,t){return t?e.replace(/\{(\w+)\}/g,((e,o)=>String(t[o]))):e};class ps{constructor(e,t,o){Q(this,F),Q(this,q),this.langStore=e,this.langReloadStore=t,Z(this,q,o)}async init(){await J(this,q).call(this,this.langStore.language),J(this,F)||Z(this,F,this.langStore.subscribe((()=>{this.langStore.language!==this.langReloadStore.language&&this.init()}))),this.langReloadStore.setLanguage(this.langStore.language)}setLanguage(e){Nt.setItem("lang",e),this.langStore.setLanguage(e)}}F=new WeakMap,q=new WeakMap;var fs=Object.defineProperty,ws=Object.getOwnPropertyDescriptor;class ys extends At{constructor(e){super(),this._systemName="LangStore",this.language=e}setLanguage(e){this.language=e}}((e,t,o)=>{for(var r,n=ws(t,o),i=e.length-1;i>=0;i--)(r=e[i])&&(n=r(t,o,n)||n);n&&fs(t,o,n)})([Tt],ys.prototype,"setLanguage");const bs=[{id:"en",name:"English",local:"English",short:"en"},{id:"ar",name:"Arabic",local:"العربية",short:"ar"},{id:"bg",name:"Bulgarian",local:"Български език ",short:"bg"},{id:"zh",name:"Chinese Simplified",local:"简体中文",short:"zh"},{id:"zt",name:"Chinese Traditional",local:"中國傳統的",short:"zt"},{id:"cs",name:"Czech",local:"Čeština",short:"cs"},{id:"nl",name:"Dutch",local:"Nederlands",short:"nl"},{id:"fr",name:"French",local:"Français",short:"fr"},{id:"de",name:"German",local:"Deutsch",short:"de"},{id:"el",name:"Greek",local:"Ελληνικά",short:"el"},{id:"hi",name:"Hindi",local:"हिन्दी",short:"hi"},{id:"hu",name:"Hungarian",local:"Magyar",short:"hu"},{id:"id",name:"Indonesian",local:"Bahasa Indonesia",short:"id"},{id:"it",name:"Italian",local:"Italiano",short:"it"},{id:"ja",name:"Japanese",local:"日本語",short:"ja"},{id:"ko",name:"Korean",local:"한국어",short:"ko"},{id:"ms",name:"Malay",local:"Bahasa Melayu",short:"ms"},{id:"fa",name:"Persian",local:"فارسی",short:"fa"},{id:"pl",name:"Polish",local:"Polski",short:"pl"},{id:"pt",name:"Portuguese",local:"Portuguê",short:"pt"},{id:"ru",name:"Russian",local:"Русский",short:"ru"},{id:"es",name:"Spanish",local:"Español",short:"es"},{id:"th",name:"Thai",local:"ภาษาไทย",short:"th"},{id:"tr",name:"Turkish",local:"Türkçe",short:"tr"},{id:"uk",name:"Ukrainian",local:"Українська",short:"uk"},{id:"uz",name:"Uzbek",local:"Oʻzbek",short:"uz"},{id:"vi",name:"Vietnamese",local:"Tiếng Việt Nam",short:"vi"}];function _s(e="en"){return Nt.getItem("lang")??function(){var e;const t=Bt.get("lang");return t?null==(e=bs.find((e=>e.id===t)))?void 0:e.id:void 0}()??function(){var e;let t=navigator.language.slice(0,2).toLowerCase();return"zh-Hans"===navigator.language&&(t="zh"),"zh-Hant"===navigator.language&&(t="zt"),t?null==(e=bs.find((e=>e.id===t)))?void 0:e.id:void 0}()??e}const Cs=new class{constructor(e){const t=_s();this.langStore=new ys(t),this.langReloadStore=new ys(t),this.langController=new ps(this.langStore,this.langReloadStore,e)}}((async function(e){let t;switch(e){case"ar":t=await Promise.all([ct((()=>import("./SMs2P3LG.js").then((e=>e.a))),[]),ct((()=>import("./SMs2P3LG.js").then((e=>e.b))),[]),ct((()=>import("./SMs2P3LG.js").then((e=>e.c))),[]),ct((()=>import("./SMs2P3LG.js").then((e=>e.d))),[])]);break;case"bg":t=await Promise.all([ct((()=>import("./Cj2Txr-Y.js").then((e=>e.b))),[]),ct((()=>import("./Cj2Txr-Y.js").then((e=>e.a))),[]),ct((()=>import("./Cj2Txr-Y.js").then((e=>e.c))),[]),ct((()=>import("./Cj2Txr-Y.js").then((e=>e.d))),[])]);break;case"zh":t=await Promise.all([ct((()=>import("./CA68iJag.js").then((e=>e.z))),[]),ct((()=>import("./CA68iJag.js").then((e=>e.a))),[]),ct((()=>import("./CA68iJag.js").then((e=>e.b))),[]),ct((()=>import("./CA68iJag.js").then((e=>e.c))),[])]);break;case"zt":t=await Promise.all([ct((()=>import("./D-NqOcAl.js").then((e=>e.z))),[]),ct((()=>import("./D-NqOcAl.js").then((e=>e.a))),[]),ct((()=>import("./D-NqOcAl.js").then((e=>e.b))),[]),ct((()=>import("./D-NqOcAl.js").then((e=>e.c))),[])]);break;case"hr":t=await Promise.all([ct((()=>import("./CcMtz7Ks.js").then((e=>e.h))),[]),ct((()=>import("./CcMtz7Ks.js").then((e=>e.a))),[]),ct((()=>import("./CcMtz7Ks.js").then((e=>e.b))),[]),ct((()=>import("./CcMtz7Ks.js").then((e=>e.c))),[])]);break;case"cs":t=await Promise.all([ct((()=>import("./DAdHJMej.js").then((e=>e.c))),[]),ct((()=>import("./DAdHJMej.js").then((e=>e.a))),[]),ct((()=>import("./DAdHJMej.js").then((e=>e.b))),[]),ct((()=>import("./DAdHJMej.js").then((e=>e.d))),[])]);break;case"da":t=await Promise.all([ct((()=>import("./mdwwD1bn.js").then((e=>e.d))),[]),ct((()=>import("./mdwwD1bn.js").then((e=>e.a))),[]),ct((()=>import("./mdwwD1bn.js").then((e=>e.b))),[]),ct((()=>import("./mdwwD1bn.js").then((e=>e.c))),[])]);break;case"nl":t=await Promise.all([ct((()=>import("./BP-1v8Rb.js").then((e=>e.n))),[]),ct((()=>import("./BP-1v8Rb.js").then((e=>e.a))),[]),ct((()=>import("./BP-1v8Rb.js").then((e=>e.b))),[]),ct((()=>import("./BP-1v8Rb.js").then((e=>e.c))),[])]);break;case"et":t=await Promise.all([ct((()=>import("./DhcEL95D.js").then((e=>e.e))),[]),ct((()=>import("./DhcEL95D.js").then((e=>e.a))),[]),ct((()=>import("./DhcEL95D.js").then((e=>e.b))),[]),ct((()=>import("./DhcEL95D.js").then((e=>e.c))),[])]);break;case"fi":t=await Promise.all([ct((()=>import("./CaxMW2W0.js").then((e=>e.f))),[]),ct((()=>import("./CaxMW2W0.js").then((e=>e.a))),[]),ct((()=>import("./CaxMW2W0.js").then((e=>e.b))),[]),ct((()=>import("./CaxMW2W0.js").then((e=>e.c))),[])]);break;case"fr":t=await Promise.all([ct((()=>import("./DcLDiWrw.js").then((e=>e.f))),[]),ct((()=>import("./DcLDiWrw.js").then((e=>e.a))),[]),ct((()=>import("./DcLDiWrw.js").then((e=>e.b))),[]),ct((()=>import("./DcLDiWrw.js").then((e=>e.c))),[])]);break;case"ka":t=await Promise.all([ct((()=>import("./BYaZpc5W.js").then((e=>e.k))),[]),ct((()=>import("./BYaZpc5W.js").then((e=>e.a))),[]),ct((()=>import("./BYaZpc5W.js").then((e=>e.b))),[]),ct((()=>import("./BYaZpc5W.js").then((e=>e.c))),[])]);break;case"de":t=await Promise.all([ct((()=>import("./BCTKCBSX.js").then((e=>e.d))),[]),ct((()=>import("./BCTKCBSX.js").then((e=>e.a))),[]),ct((()=>import("./BCTKCBSX.js").then((e=>e.b))),[]),ct((()=>import("./BCTKCBSX.js").then((e=>e.c))),[])]);break;case"el":t=await Promise.all([ct((()=>import("./DKny79S4.js").then((e=>e.e))),[]),ct((()=>import("./DKny79S4.js").then((e=>e.a))),[]),ct((()=>import("./DKny79S4.js").then((e=>e.b))),[]),ct((()=>import("./DKny79S4.js").then((e=>e.c))),[])]);break;case"he":t=await Promise.all([ct((()=>import("./C0ZMdDPO.js").then((e=>e.h))),[]),ct((()=>import("./C0ZMdDPO.js").then((e=>e.a))),[]),ct((()=>import("./C0ZMdDPO.js").then((e=>e.b))),[]),ct((()=>import("./C0ZMdDPO.js").then((e=>e.c))),[])]);break;case"hi":t=await Promise.all([ct((()=>import("./YtE3d28h.js").then((e=>e.h))),[]),ct((()=>import("./YtE3d28h.js").then((e=>e.a))),[]),ct((()=>import("./YtE3d28h.js").then((e=>e.b))),[]),ct((()=>import("./YtE3d28h.js").then((e=>e.c))),[])]);break;case"hu":t=await Promise.all([ct((()=>import("./BVWfa6Tz.js").then((e=>e.h))),[]),ct((()=>import("./BVWfa6Tz.js").then((e=>e.a))),[]),ct((()=>import("./BVWfa6Tz.js").then((e=>e.b))),[]),ct((()=>import("./BVWfa6Tz.js").then((e=>e.c))),[])]);break;case"id":t=await Promise.all([ct((()=>import("./B9UmXUG7.js").then((e=>e.i))),[]),ct((()=>import("./B9UmXUG7.js").then((e=>e.a))),[]),ct((()=>import("./B9UmXUG7.js").then((e=>e.b))),[]),ct((()=>import("./B9UmXUG7.js").then((e=>e.c))),[])]);break;case"it":t=await Promise.all([ct((()=>import("./vW0u02jn.js").then((e=>e.i))),[]),ct((()=>import("./vW0u02jn.js").then((e=>e.a))),[]),ct((()=>import("./vW0u02jn.js").then((e=>e.b))),[]),ct((()=>import("./vW0u02jn.js").then((e=>e.c))),[])]);break;case"ja":t=await Promise.all([ct((()=>import("./Cpg5iGEl.js").then((e=>e.j))),[]),ct((()=>import("./Cpg5iGEl.js").then((e=>e.a))),[]),ct((()=>import("./Cpg5iGEl.js").then((e=>e.b))),[]),ct((()=>import("./Cpg5iGEl.js").then((e=>e.c))),[])]);break;case"ko":t=await Promise.all([ct((()=>import("./C_ro75tl.js").then((e=>e.k))),[]),ct((()=>import("./C_ro75tl.js").then((e=>e.a))),[]),ct((()=>import("./C_ro75tl.js").then((e=>e.b))),[]),ct((()=>import("./C_ro75tl.js").then((e=>e.c))),[])]);break;case"lv":t=await Promise.all([ct((()=>import("./Dnww7E-O.js").then((e=>e.l))),[]),ct((()=>import("./Dnww7E-O.js").then((e=>e.a))),[]),ct((()=>import("./Dnww7E-O.js").then((e=>e.b))),[]),ct((()=>import("./Dnww7E-O.js").then((e=>e.c))),[])]);break;case"lt":t=await Promise.all([ct((()=>import("./SQ4xgWVb.js").then((e=>e.l))),[]),ct((()=>import("./SQ4xgWVb.js").then((e=>e.a))),[]),ct((()=>import("./SQ4xgWVb.js").then((e=>e.b))),[]),ct((()=>import("./SQ4xgWVb.js").then((e=>e.c))),[])]);break;case"ms":t=await Promise.all([ct((()=>import("./BwX6yudi.js").then((e=>e.m))),[]),ct((()=>import("./BwX6yudi.js").then((e=>e.a))),[]),ct((()=>import("./BwX6yudi.js").then((e=>e.b))),[]),ct((()=>import("./BwX6yudi.js").then((e=>e.c))),[])]);break;case"mn":t=await Promise.all([ct((()=>import("./DNEE4CKI.js").then((e=>e.m))),[]),ct((()=>import("./DNEE4CKI.js").then((e=>e.a))),[]),ct((()=>import("./DNEE4CKI.js").then((e=>e.b))),[]),ct((()=>import("./DNEE4CKI.js").then((e=>e.c))),[])]);break;case"fa":t=await Promise.all([ct((()=>import("./D82Gxqfh.js").then((e=>e.f))),[]),ct((()=>import("./D82Gxqfh.js").then((e=>e.a))),[]),ct((()=>import("./D82Gxqfh.js").then((e=>e.b))),[]),ct((()=>import("./D82Gxqfh.js").then((e=>e.c))),[])]);break;case"pl":t=await Promise.all([ct((()=>import("./DwatKOxL.js").then((e=>e.p))),[]),ct((()=>import("./DwatKOxL.js").then((e=>e.a))),[]),ct((()=>import("./DwatKOxL.js").then((e=>e.b))),[]),ct((()=>import("./DwatKOxL.js").then((e=>e.c))),[])]);break;case"pt":t=await Promise.all([ct((()=>import("./CEm_L-2k.js").then((e=>e.p))),[]),ct((()=>import("./CEm_L-2k.js").then((e=>e.a))),[]),ct((()=>import("./CEm_L-2k.js").then((e=>e.b))),[]),ct((()=>import("./CEm_L-2k.js").then((e=>e.c))),[])]);break;case"ro":t=await Promise.all([ct((()=>import("./DECFnMIG.js").then((e=>e.r))),[]),ct((()=>import("./DECFnMIG.js").then((e=>e.a))),[]),ct((()=>import("./DECFnMIG.js").then((e=>e.b))),[]),ct((()=>import("./DECFnMIG.js").then((e=>e.c))),[])]);break;case"ru":t=await Promise.all([ct((()=>import("./C8K8a9XJ.js").then((e=>e.r))),[]),ct((()=>import("./C8K8a9XJ.js").then((e=>e.a))),[]),ct((()=>import("./C8K8a9XJ.js").then((e=>e.b))),[]),ct((()=>import("./C8K8a9XJ.js").then((e=>e.c))),[])]);break;case"sr":t=await Promise.all([ct((()=>import("./BWcqhH7D.js").then((e=>e.s))),[]),ct((()=>import("./BWcqhH7D.js").then((e=>e.a))),[]),ct((()=>import("./BWcqhH7D.js").then((e=>e.b))),[]),ct((()=>import("./BWcqhH7D.js").then((e=>e.c))),[])]);break;case"sk":t=await Promise.all([ct((()=>import("./10ZaagN2.js").then((e=>e.s))),[]),ct((()=>import("./10ZaagN2.js").then((e=>e.a))),[]),ct((()=>import("./10ZaagN2.js").then((e=>e.b))),[]),ct((()=>import("./10ZaagN2.js").then((e=>e.c))),[])]);break;case"sl":t=await Promise.all([ct((()=>import("./BFfWl2CV.js").then((e=>e.s))),[]),ct((()=>import("./BFfWl2CV.js").then((e=>e.a))),[]),ct((()=>import("./BFfWl2CV.js").then((e=>e.b))),[]),ct((()=>import("./BFfWl2CV.js").then((e=>e.c))),[])]);break;case"es":t=await Promise.all([ct((()=>import("./C6h5V7QZ.js").then((e=>e.e))),[]),ct((()=>import("./C6h5V7QZ.js").then((e=>e.a))),[]),ct((()=>import("./C6h5V7QZ.js").then((e=>e.b))),[]),ct((()=>import("./C6h5V7QZ.js").then((e=>e.c))),[])]);break;case"sv":t=await Promise.all([ct((()=>import("./DDqq-Pz_.js").then((e=>e.s))),[]),ct((()=>import("./DDqq-Pz_.js").then((e=>e.a))),[]),ct((()=>import("./DDqq-Pz_.js").then((e=>e.b))),[]),ct((()=>import("./DDqq-Pz_.js").then((e=>e.c))),[])]);break;case"tg":t=await Promise.all([ct((()=>import("./Dph5nm_W.js").then((e=>e.t))),[]),ct((()=>import("./Dph5nm_W.js").then((e=>e.a))),[]),ct((()=>import("./Dph5nm_W.js").then((e=>e.b))),[]),ct((()=>import("./Dph5nm_W.js").then((e=>e.c))),[])]);break;case"th":t=await Promise.all([ct((()=>import("./CIYbZPmt.js").then((e=>e.t))),[]),ct((()=>import("./CIYbZPmt.js").then((e=>e.a))),[]),ct((()=>import("./CIYbZPmt.js").then((e=>e.b))),[]),ct((()=>import("./CIYbZPmt.js").then((e=>e.c))),[])]);break;case"tr":t=await Promise.all([ct((()=>import("./nlWu58Vs.js").then((e=>e.t))),[]),ct((()=>import("./nlWu58Vs.js").then((e=>e.a))),[]),ct((()=>import("./nlWu58Vs.js").then((e=>e.b))),[]),ct((()=>import("./nlWu58Vs.js").then((e=>e.c))),[])]);break;case"uk":t=await Promise.all([ct((()=>import("./k-UprxQy.js").then((e=>e.u))),[]),ct((()=>import("./k-UprxQy.js").then((e=>e.a))),[]),ct((()=>import("./k-UprxQy.js").then((e=>e.b))),[]),ct((()=>import("./k-UprxQy.js").then((e=>e.c))),[])]);break;case"uz":t=await Promise.all([ct((()=>import("./DFKoGF0q.js").then((e=>e.u))),[]),ct((()=>import("./DFKoGF0q.js").then((e=>e.a))),[]),ct((()=>import("./DFKoGF0q.js").then((e=>e.b))),[]),ct((()=>import("./DFKoGF0q.js").then((e=>e.c))),[])]);break;case"vi":t=await Promise.all([ct((()=>import("./DpItBN2I.js").then((e=>e.v))),[]),ct((()=>import("./DpItBN2I.js").then((e=>e.a))),[]),ct((()=>import("./DpItBN2I.js").then((e=>e.b))),[]),ct((()=>import("./DpItBN2I.js").then((e=>e.c))),[])]);break;default:t=await Promise.all([ct((()=>import("./0E51zjTP.js").then((e=>e.e))),[]),ct((()=>import("./0E51zjTP.js").then((e=>e.a))),[]),ct((()=>import("./0E51zjTP.js").then((e=>e.b))),[]),ct((()=>import("./0E51zjTP.js").then((e=>e.c))),[])])}window.lang={chart:t[0].chart,login:t[1].login,trade:t[2].trade,ui:t[3].ui}}));class vs{constructor(e){Q(this,W),this.accountAuto=!1,this.accountUrl="",this.traderCountry="",this.traderCurrency="",this.status=0,this.resolve=()=>{},this.ready=new Promise((e=>{this.resolve=()=>{e()}})),this.tradeServerDemo=e.trade_server_demo,this.tradeServerReal=e.trade_server_real,this.broker={name:e.broker.name,url:e.broker.url,address:e.broker.address,email:e.broker.email,phone:e.broker.phone,desktop_setup_url:e.broker.desktop_setup_url},this.servers=e.servers.map((e=>({server:e.server,type:e.type,groups:e.groups.map((e=>({name:e.name,group:e.group,account_type:e.account_type,leverages:e.leverages,default_deposit:e.default_deposit,currency:e.currency,flags:e.flags,agreements:e.agreements,real:e.real,countries:e.countries})))}))),this.startupMode=e.startup_mode,this.login=e.login||"",this.accountAuto=Boolean(e.account_auto),this.accountUrl=e.account_url||"",this.groups=X(this,W,K).call(this),this.build=e.build}setTraderParams(e){[this.traderCountry,this.traderCurrency]=e,this.groups=X(this,W,K).call(this),this.status=2,this.resolve()}getCaptionTypeTitle(e){switch(e){case 1:return"Client agreement";case 2:return"Risk disclosure";case 3:return"Client agreement and risk disclosure";case 4:return"Complaints handling procedure";case 5:return"Order execution policy";case 6:return"Client categorisation notice";case 7:return"Conflicts of interest policy";case 8:return"Data Protection Policy";default:return""}}getGroupsByHedge(e,t){return-1!==this.detectHedgeStatus(e)?e:e.filter((e=>t?this.isHedgeGroup(e):!this.isHedgeGroup(e)))}isHedgeGroup(e){return 2===e.account_type}detectHedgeStatus(e){const t=e.some((e=>2===e.account_type)),o=e.some((e=>2!==e.account_type));return t&&!o?1:!t&&o?0:-1}getGroupsByType(e,t,o=!1){return e.filter((e=>{const r=Boolean(e.real)===o;return t&&e.countries.length?r&&e.countries.includes(t):r}))}}W=new WeakSet,K=function(){const e={all:[],real:{all:[],hedging:[],netting:[]},demo:{all:[],hedging:[],netting:[]}},t=this.servers.find((({server:e})=>e===this.tradeServerDemo));t&&(e.demo.all=this.getGroupsByType(t.groups,this.traderCountry),e.demo.hedging=this.getGroupsByHedge(e.demo.all,!0),e.demo.netting=this.getGroupsByHedge(e.demo.all,!1));const o=this.servers.find((({server:e})=>e===this.tradeServerReal));return o&&(e.real.all=this.getGroupsByType(o.groups,this.traderCountry,!0),e.real.hedging=this.getGroupsByHedge(e.real.all,!0),e.real.netting=this.getGroupsByHedge(e.real.all,!1)),e};class $s{constructor(e){this.configStore=e}async getTraderParams(){if(0===this.configStore.status){this.configStore.status=1;const e=await ct((()=>import("./DXWXWey6.js")),[]);await e.default.config.init(this.configStore.tradeServerDemo);const t=await e.default.config.traderParams();t?this.configStore.setTraderParams(t):this.configStore.setTraderParams(["",""])}}}const ks=(e,t)=>(e.map=o=>ks(((t,r)=>o(e(t,r),r)),t),e.or=o=>ks((r=>{try{return e(r,t)}catch(n){return o(r,t)}}),t),e);class Ss extends Error{constructor(e){super("Validation error"),this.code=e}}const Es=(e=13)=>{throw new Ss(e)},Ps=e=>ks((t=>e.includes(t)?t:Es(11))),As=(e,t)=>ks(((o,r)=>typeof o==typeof e?o:t?Es(t()):r?Es(r()):Es()),t),Ts=(e=()=>1)=>As("",e),xs=(e=()=>2)=>As(0,e),Ds=(e=()=>3)=>As(!0,e),Os=()=>As(),js=(e,t=()=>4)=>((e,t=()=>4)=>ks(((o,r)=>o instanceof e?o:t?Es(t()):r?Es(r()):Es()),t))(e,t),Ls=e=>js(Object).map((t=>{const o={},r={};for(const i in e)try{const r=e[i](t[i]);void 0!==r&&(o[i]=r)}catch(n){n instanceof Ss&&(r[i]=n.code)}if(Object.keys(r).length)throw r;return o})),Is=e=>{return""===(t=e)||null==t?Es(6):e;var t},Vs=e=>/^\d*$/.test(e)?e:Es(10),Rs=e=>/\S+@\S+\.\S+/.test(e)?e:Es(7),Ms=e=>/^\s*\+?[\s\d]{7,15}$/.test(e)?e:Es(8),Bs=e=>t=>e.test(t)?t:Es(12),Hs=(e,t)=>o=>{const r=new Date,n=new Date;r.setUTCFullYear(r.getUTCFullYear()-e),n.setUTCFullYear(n.getUTCFullYear()-t);const i=new Date(o),s=i.getTime()-r.getTime(),a=i.getTime()-n.getTime();return s>0||a<0?Es(9):o};function zs(e){return window.JSON.parse(window.JSON.stringify(e))}function Ns(e,t){const o={};let r=!1;return Object.keys(e).forEach((n=>{const i=n;if(null!==t[i]&&void 0!==t[i]&&t[i]!==e[i]){let n=t[i];"object"==typeof n&&(n=Ns(e[i],t[i])),null!=n&&(o[i]=n,r=!0)}})),r?o:null}function Us(e,t){return Object.keys(t).forEach((o=>{Fs(t[o])?(e[o]&&Fs(e[o])||(e[o]={}),e[o]=Us(e[o],t[o])):null===t[o]?(e[o]=null,delete e[o]):e[o]=t[o]})),e}function Fs(e){return e instanceof Object||Array.isArray(e)}function qs(e,t,o){var r,n=o||{},i=n.noTrailing,s=void 0!==i&&i,a=n.noLeading,l=void 0!==a&&a,c=n.debounceMode,u=void 0===c?void 0:c,d=!1,h=0;function m(){r&&clearTimeout(r)}function g(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];var a=this,c=Date.now()-h;function g(){h=Date.now(),t.apply(a,n)}function p(){r=void 0}d||(l||!u||r||g(),m(),void 0===u&&c>e?l?(h=Date.now(),s||(r=setTimeout(u?p:g,e))):g():!0!==s&&(r=setTimeout(u?p:g,void 0===u?e-c:e)))}return g.cancel=function(e){var t=(e||{}).upcomingOnly,o=void 0!==t&&t;m(),d=!o},g}function Ws(e,t,o){var r=(o||{}).atBegin;return qs(e,t,{debounceMode:!1!==(void 0!==r&&r)})}Symbol.toStringTag,Symbol.toStringTag,Symbol.toStringTag;const Ks=new class{constructor(){this.configStore=new vs(window.__terminal_params),this.configController=new $s(this.configStore)}};async function Ys(){const e=await Qr.init(Ks.configStore);e.theme.themeController.init();const t=Cs.langController.init(),o=e.init(),r=ct((()=>import("./D7mBtksI.js")),[]),[n]=await Promise.all([r,t,o]);document.body.classList.remove("loader");const i=document.getElementById("initial-loader-style");null==i||i.remove();const s=new n.AuthModule(Ks.configStore.build,e);return{lang:Cs,ui:e,configModule:Ks,auth:s}}document.body.classList.toggle("win",st()),async function(){return new gs({target:document.body,props:await Ys()})}().then((e=>e));const Gs=Object.freeze(Object.defineProperty({__proto__:null,default:{background:988960,border:2831683,bottomPanel:1381653,card:2502463,icon:{default:13750738,disabled:6582657},fill:{blue:3245055,blueHover:4953087,blueActive:3045867,green:3584843,greenHover:4308566,greenActive:3054913,red:15354956,redHover:16013657,redActive:16075595,lightBlue:2107699,lightBlueHover:2437180,lightBlueActive:3356216,lightRed:3943470,lightRedHover:4402480,lightRedActive:4929081,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:3943470,total:2831683},text:{default:16777215,secondary:9413304,inverted:16777215,red:16734296,blue:4560895,green:4900447,orange:16746051,disabled:10989752},input:{fill:{disabled:3026994},border:{default:14540253,hover:8899326,invalid:12067876}},button:{disabled:3026994},scroll:6580601,chart:{backgroundColor:988960,gridColor:2107186,titleColor:16777215,descriptionColor:9413304,graph:{upColor:2533018,downColor:15684432,lineColor:45039,areaColor:45039},priceLines:{bidUp:2533018,bidDown:15684432,bidText:16777215,ask:13750738,askText:0},axis:{borderColor:6580601,textColor:10461087},crosshair:{lineColor:6580601,textColor:16777215,textBackgroundColor:6580601},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:9413304},object:{point:{hover:{backgroundColor:988960,borderColor:3245055},focus:{backgroundColor:988960,borderColor:4953087},active:{backgroundColor:988960,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:110447,downColor:16723968,lineColor:45039}},calendar:{button:{backgroundColor:988960,textColor:16777215},group:{borderColor:2833488,backgroundColor:988960,title:{textColor:9413304,backgroundColor:988960,linkColor:4560895},event:{titleColor:16777215,timeColor:9413304,descriptionColor:9413304}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:9413304,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:1}},Symbol.toStringTag,{value:"Module"})),Js=Object.freeze(Object.defineProperty({__proto__:null,default:{background:16777215,border:15263976,bottomPanel:16250871,card:16777215,icon:{default:5590089,disabled:13750737},fill:{blue:4676090,blueHover:7372543,blueActive:2439664,green:3584843,greenHover:4308566,greenActive:3054913,red:15219761,redHover:16013657,redActive:16075595,lightBlue:15858175,lightBlueHover:15070463,lightBlueActive:14281204,lightRed:16642545,lightRedHover:16443624,lightRedActive:16376803,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:16644849,total:15791609},text:{default:0,secondary:8224125,inverted:16777215,red:12850967,blue:4676090,green:2200372,orange:12408606,disabled:10989752},input:{fill:{disabled:16053750},border:{default:14540253,hover:5737714,invalid:12067876}},button:{disabled:13750737},scroll:10461087,chart:{backgroundColor:16777215,gridColor:15263976,titleColor:0,descriptionColor:8421504,graph:{upColor:5737714,downColor:15219761,lineColor:4676090,areaColor:4676090},priceLines:{bidUp:5737714,bidDown:15219761,bidText:16777215,ask:13750738,askText:0},axis:{borderColor:10461087,textColor:0},crosshair:{lineColor:10461087,textColor:16777215,textBackgroundColor:10461087},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:8421504},object:{point:{hover:{backgroundColor:16777215,borderColor:3045867},focus:{backgroundColor:16777215,borderColor:4953087},active:{backgroundColor:16777215,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:4676090,downColor:16723968,lineColor:4676090}},calendar:{button:{backgroundColor:16777215,textColor:0},group:{borderColor:15263976,backgroundColor:16777215,title:{textColor:8421504,backgroundColor:16777215,linkColor:750067},event:{titleColor:0,timeColor:8421504,descriptionColor:8421504}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:8421504,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:0}},Symbol.toStringTag,{value:"Module"})),Qs=Object.freeze(Object.defineProperty({__proto__:null,default:{background:988960,border:2831683,bottomPanel:1381653,card:2502463,icon:{default:13750738,disabled:6582657},fill:{blue:5737714,blueHover:7381759,blueActive:3107802,green:3584843,greenHover:4308566,greenActive:3054913,red:16734029,redHover:16739942,redActive:15353662,lightBlue:2107699,lightBlueHover:2437180,lightBlueActive:3356216,lightRed:3943470,lightRedHover:4402480,lightRedActive:4929081,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:3943470,total:2831683},text:{default:16777215,secondary:9413304,inverted:16777215,red:16734296,blue:9349119,green:4900447,orange:16746051,disabled:16777215},input:{fill:{disabled:3026994},border:{default:14540253,hover:8899326,invalid:12067876}},button:{disabled:3026994},scroll:6580601,chart:{backgroundColor:988960,gridColor:2831683,titleColor:16777215,descriptionColor:9413304,graph:{upColor:5737714,downColor:16734029,lineColor:5737714,areaColor:5737714},priceLines:{bidUp:5737714,bidDown:16734029,bidText:16777215,ask:13750738,askText:0},axis:{borderColor:6580601,textColor:10461087},crosshair:{lineColor:6580601,textColor:16777215,textBackgroundColor:6580601},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:9413304},object:{point:{hover:{backgroundColor:988960,borderColor:3245055},focus:{backgroundColor:988960,borderColor:4953087},active:{backgroundColor:988960,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:5737714,downColor:16734029,lineColor:45039}},calendar:{button:{backgroundColor:988960,textColor:988960},group:{borderColor:2833488,backgroundColor:988960,title:{textColor:9413304,backgroundColor:988960,linkColor:4560895},event:{titleColor:16777215,timeColor:9413304,descriptionColor:9413304}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:9413304,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:1}},Symbol.toStringTag,{value:"Module"})),Zs=Object.freeze(Object.defineProperty({__proto__:null,default:{background:0,border:2831683,bottomPanel:1381653,card:2502463,icon:{default:13750738,disabled:6582657},fill:{blue:3245055,blueHover:4953087,blueActive:3045867,green:3584843,greenHover:4308566,greenActive:3054913,red:15354956,redHover:16013657,redActive:16075595,lightBlue:2107699,lightBlueHover:2437180,lightBlueActive:3356216,lightRed:3943470,lightRedHover:4402480,lightRedActive:4929081,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:3943470,total:2831683},text:{default:16777215,secondary:9413304,inverted:16777215,red:16734296,blue:4560895,green:4900447,orange:16746051,disabled:10989752},input:{fill:{disabled:3026994},border:{default:14540253,hover:8899326,invalid:12067876}},button:{disabled:3026994},scroll:6580601,chart:{backgroundColor:0,gridColor:2831683,titleColor:16777215,descriptionColor:9413304,graph:{upColor:16777215,downColor:8026746,lineColor:16777215,areaColor:16777215},priceLines:{bidUp:16777215,bidDown:8026746,bidText:0,ask:13750738,askText:0},axis:{borderColor:6580601,textColor:10461087},crosshair:{lineColor:6580601,textColor:16777215,textBackgroundColor:6580601},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:9413304},object:{point:{hover:{backgroundColor:988960,borderColor:3245055},focus:{backgroundColor:988960,borderColor:4953087},active:{backgroundColor:988960,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:16777215,downColor:8026746,lineColor:16777215}},calendar:{button:{backgroundColor:988960,textColor:988960},group:{borderColor:2833488,backgroundColor:988960,title:{textColor:9413304,backgroundColor:988960,linkColor:4560895},event:{titleColor:16777215,timeColor:9413304,descriptionColor:9413304}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:9413304,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:1}},Symbol.toStringTag,{value:"Module"})),Xs=Object.freeze(Object.defineProperty({__proto__:null,default:{background:16777215,border:15263976,bottomPanel:16250871,card:16777215,icon:{default:5590089,disabled:13750737},fill:{blue:7777413,blueHover:6857080,blueActive:5474402,green:3584843,greenHover:4308566,greenActive:3054913,red:13665669,redHover:11430763,redActive:12284530,lightBlue:15857142,lightBlueHover:15528691,lightBlueActive:14937069,lightRed:16642545,lightRedHover:16443624,lightRedActive:16376803,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:16644849,total:15857142},text:{default:0,secondary:8421504,inverted:16777215,red:12667209,blue:4416588,green:2200372,orange:12408606,disabled:10989752},input:{fill:{disabled:16053750},border:{default:14540253,hover:11390647,invalid:12067876}},button:{disabled:13750737},scroll:10461087,chart:{backgroundColor:16777215,gridColor:15263976,titleColor:0,descriptionColor:8421504,graph:{upColor:7777413,downColor:13665669,lineColor:7183527,areaColor:7183527},priceLines:{bidUp:7777413,bidDown:13665669,bidText:16777215,ask:13750738,askText:0},axis:{borderColor:10461087,textColor:0},crosshair:{lineColor:10461087,textColor:16777215,textBackgroundColor:10461087},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:8421504},object:{point:{hover:{backgroundColor:16777215,borderColor:3245055},focus:{backgroundColor:16777215,borderColor:4953087},active:{backgroundColor:16777215,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:7777413,downColor:13665669,lineColor:45039}},calendar:{button:{backgroundColor:16777215,textColor:0},group:{borderColor:15263976,backgroundColor:16777215,title:{textColor:8421504,backgroundColor:16777215,linkColor:750067},event:{titleColor:0,timeColor:8421504,descriptionColor:8421504}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:8421504,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:0}},Symbol.toStringTag,{value:"Module"})),ea=Object.freeze(Object.defineProperty({__proto__:null,default:{background:988960,border:2831683,bottomPanel:1381653,card:2502463,icon:{default:13750738,disabled:6582657},fill:{blue:7777413,blueHover:7645827,blueActive:5867622,green:7777413,greenHover:7645827,greenActive:5867622,red:13134442,redHover:11753046,redActive:11358802,lightBlue:2107699,lightBlueHover:2437180,lightBlueActive:3356216,lightRed:3943470,lightRedHover:4402480,lightRedActive:4929081,orange:15495191,orangeHover:16746803,orangeActive:14707994,lightYellow:3943470,total:2831683},text:{default:16777215,secondary:9413304,inverted:16777215,red:16748431,blue:10800816,green:4900447,orange:16746051,disabled:16777215},input:{fill:{disabled:3026994},border:{default:14540253,hover:8899326,invalid:12067876}},button:{disabled:3026994},scroll:6580601,chart:{backgroundColor:988960,gridColor:2831683,titleColor:16777215,descriptionColor:9413304,graph:{upColor:7777413,downColor:13134442,lineColor:7183527,areaColor:7183527},priceLines:{bidUp:7777413,bidDown:13134442,bidText:16777215,ask:13750738,askText:0},axis:{borderColor:6580601,textColor:10461087},crosshair:{lineColor:6580601,textColor:16777215,textBackgroundColor:6580601},selected:{marker:{textColor:0,backgroundColor:13097950},diff:{color:13097950,alpha:.3}},indicator:{titleColor:9413304},object:{point:{hover:{backgroundColor:988960,borderColor:3245055},focus:{backgroundColor:988960,borderColor:4953087},active:{backgroundColor:988960,borderColor:3045867}},text:{defaultBorderColor:3245055}},volume:{upColor:7777413,downColor:13134442,lineColor:7183527}},calendar:{button:{backgroundColor:988960,textColor:988960},group:{borderColor:2833488,backgroundColor:988960,title:{textColor:9413304,backgroundColor:988960,linkColor:4560895},event:{titleColor:16777215,timeColor:9413304,descriptionColor:9413304}}},tradeMark:{buyLine:3245055,buyText:4560895,buyArrow:3245055,buyArrowBorder:16777215,sellLine:15354956,sellText:16734296,sellArrow:15354956,sellArrowBorder:16777215,blurLine:11908533,blurText:9413304,blurArrow:11908533,blurArrowBorder:16777215,slLine:15495191,slText:16746051,slArrow:15495191,slArrowBorder:16777215,tpLine:3584843,tpText:4900447,tpArrow:3584843,tpArrowBorder:16777215},dark:1}},Symbol.toStringTag,{value:"Module"})),ta="close-7c478a3ae407";class oa{constructor(e){this.fields=e,this.errors={}}getValues(e){return Object.entries(e).reduce(((e,[t,o])=>(e[t]=o.value??"",e)),{})}getElements(e){const t={};return Object.entries(e).forEach((([e,o])=>{o.element&&(t[e]=o.element)})),t}validate(e){return this.errors=Object.entries(this.fields).filter((([,{validators:e}])=>e)).reduce(((t,[o,r])=>{const{validators:n,disabled:i,minChars:s}=r;if(i||!n)return t;const a=String(e[o]??"").trim();let l={};return n.some((t=>{const r="string"==typeof t?{type:t}:t,{type:n}=r;switch(r.type){case"required":{const t="boolean"==typeof e[o]?e[o]:a;l=this.requiredValidator(t);break}case"email":l=this.emailValidator(a);break;case"phone":l=this.phoneValidator(a);break;case"number":l=this.numberValidator(a);break;case"regExp":l=this.regExpValidator(r.value,a);break;default:throw l={valid:!0},new Error(`Unexpected type: ${n}`)}return!l.valid})),l.valid?s&&s>a.length&&(t[o]=`Min ${s} chars`):t[o]=l.error,t}),{}),this.errors}removeFieldError(e){return delete this.errors[e],this.errors}regExpValidator(e,t,o){if(!(e instanceof RegExp))return{valid:!1,error:o||"Incorrect value"};const r=e.test(t);return r?{valid:r}:{valid:!1,error:o||"Incorrect value"}}phoneValidator(e){return this.regExpValidator(/^\s*\+?[\s\d]+$/,e,"Incorrect phone")}numberValidator(e){return this.regExpValidator(/^\d+$/,e,"Expected only numbers")}emailValidator(e){return this.regExpValidator(/\S+@\S+\.\S+/,e,"Incorrect email")}requiredValidator(e){const t=Boolean(e);return t?{valid:t}:{valid:!1,error:"Required"}}}function ra(e,t,o,r,n=!1){if(!t||o<1)return null;if(t.length<o&&1!==r)return null;switch(r){case 0:return function(e,t,o,r=!1){const n=e.length;let i=0,s=o-1;r&&(s=n-o-1);const a=s-(o-1);for(let l=a;l<=s;l++)i+=t[l]||0;e[s]=i/o;for(let l=s+1,c=a;l<n;l++,c++)i-=t[c]||0,i+=t[l]||0,e[l]=i/o;return e}(e,t,o,n);case 1:return function(e,t,o,r=!1){const n=2/(o+1);let i=1;r&&(i=e.length-o-1),1===i&&(e[0]=t[0]);for(let s=i,a=e.length;s<a;s++)e[s]=t[s]*n+e[s-1]*(1-n);return e}(e,t,o,n);case 2:return function(e,t,o,r=!1){let n=0,i=o-1;r&&(i=e.length-o-1);for(let s=i,a=e.length;s<a;s++){if(s===o-1){n=0;for(let e=s+1-o;e<=s;e++)n+=t[e]}else n=(e[s-1]||0)*(o-1)+t[s];e[s]=n/o}return e}(e,t,o,n);case 3:return function(e,t,o,r=!1){let n=0,i=0,s=0,a=o-1;r&&(a=e.length-o-1);const l=a-(o-1);for(let c=l,u=1;c<=a;c++,u++){const e=t[c];n+=e*u,i+=e,s+=u}e[a]=n/s;for(let c=a+1,u=l,d=e.length;c<d;c++,u++){const r=t[c];n=n-i+r*o,i-=t[u],i+=r,e[c]=n/s}return e}(e,t,o,n);default:return null}}export{xo as $,_s as A,kt as B,_n as C,bn as D,yn as E,oa as F,ra as G,so as H,Ut as I,jr as J,Wr as K,Zo as L,mo as M,ho as N,uo as O,lo as P,Bt as Q,co as R,Tt as S,qs as T,Ao as U,Po as V,Eo as W,Vo as X,Co as Y,_o as Z,ct as _,Is as a,ko as a0,$o as a1,jo as a2,Qo as a3,So as a4,vo as a5,bo as a6,oo as a7,Bo as a8,Nt as a9,Ws as aa,wt as ab,Vr as ac,Zt as ad,lr as ae,wr as af,ao as ag,Wo as ah,Jo as ai,Us as aj,Ns as ak,Vs as b,cn as c,Ri as d,qr as e,Es as f,Mt as g,yo as h,Tn as i,Cn as j,bs as k,ta as l,Ps as m,js as n,Ls as o,Rr as p,Os as q,zs as r,Ts as s,xs as t,Hs as u,Bs as v,Rs as w,Ms as x,Ds as y,At as z};
